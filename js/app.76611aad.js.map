{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/shader/LOADING_PARTICLE.frag","webpack:///./src/assets/textures/smoke1.png","webpack:///./src/assets/textures/rocks_c.png","webpack:///./src/assets/shader/LIGHT.frag","webpack:///./src/assets/textures/trainLight.png","webpack:///./src/assets/textures/train_down.png","webpack:///./src/assets/textures/rocks2_qin4.png","webpack:///./src/assets/shader/TRAIN.vert","webpack:///./src/assets/shader/PLANET_BG.frag","webpack:///./src/assets/textures/star.png","webpack:///./src/assets/shader/TRAIN_PARTICLE.vert","webpack:///./src/assets/textures/train.png","webpack:///./src/components/main.vue?44d5","webpack:///./src/assets/textures/smoke2.png","webpack:///./src/assets/shader/LINE.frag","webpack:///./src/assets/textures/sun1.png","webpack:///./src/assets/textures/noise.png","webpack:///./src/assets/textures/rocks2_qin2.png","webpack:///./src/assets/shader/SKY_BG.frag","webpack:///./src/assets/textures/rocks2_qin6.png","webpack:///./src/assets/shader/STAR_MASK.vert","webpack:///./src/assets/textures/sun2.png","webpack:///./src/App.vue?2c53","webpack:///./src/components/main.vue?6182","webpack:///./src/config/uniformSetting.js","webpack:///./src/three/Constellation.js","webpack:///./src/config/shaderSetting.js","webpack:///./src/three/BlendRender.js","webpack:///./src/config/animationSetting.js","webpack:///./src/config/MANIFEST.js","webpack:///./src/three/Stage.js","webpack:///./src/three/plugins/geometry.js","webpack:///./src/utils/xhr.js","webpack:///./src/utils/loaderManager/loader.js","webpack:///./src/utils/loaderManager/fileLoader.js","webpack:///./src/utils/loaderManager/index.js","webpack:///./src/three/plugins/object.js","webpack:///src/components/main.vue","webpack:///./src/components/main.vue?1a67","webpack:///./src/components/main.vue","webpack:///src/App.vue","webpack:///./src/App.vue?4c4f","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/assets/textures/line.png","webpack:///./src/assets/shader/SUN.frag","webpack:///./src/assets/shader/LOADING.vert","webpack:///./src/assets/shader/TRAIN_PARTICLE.frag","webpack:///./src/assets/textures/planet_faguang.png","webpack:///./src/assets/shader/PARTICLE.vert","webpack:///./src/assets/textures/train_rocks.png","webpack:///./src/assets/shader/PARTICLE.frag","webpack:///./src/assets/shader/LINE.vert","webpack:///./src/App.vue?3c62","webpack:///./src/assets/shader/STAR_SKY.vert","webpack:///./src/assets/shader/PLANET_BG.vert","webpack:///./src/assets/textures/innerStatic.jpg","webpack:///./src/assets/shader/BASIC.frag","webpack:///./src/assets/shader/TRAIN.frag","webpack:///./src/assets/textures/rocks2_qin1.png","webpack:///./src/assets/shader/STAR.vert","webpack:///./src/assets/shader/STAR_SKY.frag","webpack:///./src/assets/shader/BASIC.vert","webpack:///./src/assets/shader/LOADING_PARTICLE.vert","webpack:///./src/assets/textures/light3.png","webpack:///./src/assets/shader/STAR_BG.frag","webpack:///./src/assets/textures/planet.png","webpack:///./src/assets/shader/LOADING.frag","webpack:///./src/assets/textures/light1.png","webpack:///./src/assets/textures/topLight.png","webpack:///./src/assets/textures/rocks2_qin3.png","webpack:///./src/assets/shader/SMOKE.frag","webpack:///./src/assets/textures/rocks2_qin5.png","webpack:///./src/assets/textures/sky.png","webpack:///./src/assets/textures/planetRing2.png","webpack:///./src/assets/textures/indexStatic.jpg","webpack:///./src/assets/textures/rocks_b.png","webpack:///./src/assets/textures/planet_guangzhu.png","webpack:///./src/assets/shader/PLANET_RING.frag","webpack:///./src/assets/shader/BLEND_SCREEN.frag","webpack:///./src/assets/shader/SMOKE2.frag","webpack:///./src/assets/textures/loadingLogo.png","webpack:///./src/assets/textures/smoke3.png","webpack:///./src/assets/textures/planet2.png","webpack:///./src/assets/shader/PLANET.frag","webpack:///./src/assets/shader/STAR.frag","webpack:///./src/assets/textures/trainParticle.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","on","handleScroll","effectType","viewportSize","width","height","scrollV","staticClass","staticRenderFns","ref","uniforms","fps","delta","time","resolution","THREE","mouse","offset","mouseDelta","progress","ending","EndPoint","segments","material","geometry","copy","endpointStepArr","Float32Array","addAttribute","mesh","frustumCulled","Constellation","step","val","Math","random","lm","option","position","scale","duration","obj3D","lineMaterial","pool","floor","children","round","getMaterial","shader","noise","defines","SEGMENT","points","lineMesh","renderOrder","pointMaterial","pointMesh","opacity","add","visible","rotation","z","seed","initPos","randomPos","targetPos","gsap","to","overwrite","ease","easeNone","x","y","fromTo","onComplete","conf","BASIC","vertexShader","require","fragmentShader","color","LINE","transparent","depthTest","depthWrite","speed","colorDark","colorLight","PARTICLE","blending","side","STAR","STAR_SKY","STAR_MASK","TRAIN_PARTICLE","LOADING_PARTICLE","TRAIN","PLANET","PLANET_BG","PLANET_RING","SKY_BG","STAR_BG","BLEND_SCREEN","SUN","SMOKE","SMOKE2","LIGHT","shaderSetting","clone","USE_TEXTURE","diffuse","camera","scene","autoUpdate","BlendRender","renderer","diffuseTarget","renderTarget","clear","texture","render","animationSetting","onLoadingInit","LOGO","getObjectByName","PARTICLES","intro","easeOut","outro","uniformSetting","easeIn","easeInOut","delay","onBlendRender","getRenderTarget","bgBuffer","setRenderTarget","onRockRotate","userData","sin","range","cos","onIndexInit","obj_ALL","obj_SUN1","obj_INDEX_ALL","obj_STAR_INNER","curPos","movePos","obj_TRAIN_MAIN","set","move","obj_LIGHT1","resize","updateMatrix","obj_BODY","playAnimation","onBeforeRender","max","min","PI","scroll","change","type","onInnerLineInit","frame","count","item","emit","LOADING_MANIFEST","src","id","INDEX_MANIFEST","SPINE_MANIFEST","MainStage","newCamera","target","LoadingStage","highlight","center","setResolution","geometryPlugin1","buffer","subuvs","forEach","geometryPlugin2","Array","isArray","map","num","request","method","url","responseType","baseURL","timeout","onDownloadProgress","xhr","XMLHttpRequest","e","ActiveXObject","ActiveXobject","parse","opt","resp","response","responseText","JSON","Promise","resolve","reject","Error","loaded","onprogress","evt","lengthComputable","total","open","onreadystatechange","readyState","status","statusText","send","fetchFromURL","loadCb","success","pushError","error","location","origin","prog","then","catch","console","log","reason","crossOrigin","done","div","document","createElement","style","visibility","iframe","onload","body","removeChild","appendChild","typeMethods","IMAGE","arguments","crossDomain","undefined","VIDEO","SOUND","CSS","JS","TXT","XML","substring","lastIndexOf","toLowerCase","Loader","options","list","minTime","maxTime","defineTime","json","onerror","canLoad","hasLoad","globalErrList","timeslice","Number","ceil","toFixed","init","final","check","setTimeout","load","err","flag","LoadItem","mediaType","isBase64","loader","fileLoader","onFileComplete","counter","keys","onLoadComplete","Image","checkComplete","URL","createObjectURL","startsWith","LoadQueue","values","dispatchEvent","manifest","warn","onLoadProgress","onLoadError","EventDispatcher","createLoader","FileLoader","LoaderManager","bufferSetting","spineSetting","fontSetting","clock","context","defaultAnimationSetting","SKIN","animationMixer","update","SPINE","DRAW_MASK","clearStencil","STENCIL_BUFFER_BIT","stencilFunc","ALWAYS","stencilOp","REPLACE","colorMask","enable","STENCIL_TEST","BEGIN_INVERT_MASK","NOTEQUAL","KEEP","BEGIN_MASK","EQUAL","STOP_MASK","disable","textures","geometrys","skinnings","spines","fonts","materialPlugins","geometryPlugins","objectPlugins","mouseDisabled","mouseMoved","mouseEnabled","mouseDown","mouseNeedsRefresh","mouseEnableMoveCheck","mouseCheckScene","mouseCheckCamera","ctx","WebGLRenderingContext","getContext","getDelta","getElapsedTime","sceneOrigin","shaderList","traverse","parent","quaternion","initRot","initScl","vertices","uvs","setIndex","Uint32Array","Uint16Array","indexs","computeVertexNormals","groups","skinWeights","weightsArr","indicesArr","influencesPerVertex","index","skinIndices","morph","plugin","process","fromArray","getTexture","getTextTexture","getBuffer","isNaN","surface","USE_SURFACEMAP","surfaceMap","env","USE_ENVMAP","envMap","lightMap","USE_LIGHTMAP","shadowMap","USE_SHADOWMAP","normal","extensions","derivatives","USE_NORMALMAP","normalMap","normalScale","metalness","roughness","fog","USE_FOG","image","nodw","at","ALPHA_TEST","text","uniform","getUniform","define","indexOf","dispose","nameArr","split","param","needsUpdate","getResult","minFilter","setParameter","sceneConf","motion","cues","cue","fired","motions","currentFrame","addMotion","stopAnimation","resetCue","setKeyFrame","renderKeyFrame","scenee","scenen","materialList","depthMaterialList","USE_INSTANCE","skinning","depthShader","getGeometry","getSkinningMesh","skin","createSpine","createText","obj","depthMat","colorMat","props","castShadow","receiveShadow","matrixAutoUpdate","noCull","animation","mask","onAfterRender","hide","click","onClick","clicks","mousedown","onMouseDown","mousemove","onMouseMove","mouseup","onMouseUp","mousewheel","onMouseWheel","event","initMotion","skip","initObject","match","RegExp","current","getParameter","parseInt","preventDefault","coords","mouseCheck","fnKey","raycaster","setFromCamera","arr","updateMatrixWorld","raycast","currentMotion","curFrame","nextFrame","frameOffset","previousFrame","curFrameData","nextFrameData","pos","cur","next","lerp","rotq","slerp","scl","morphTargetInfluences","_","repeat","reverse","start","end","onUpdate","startFrame","endFrame","abs","tween","kill","OP100","isPC","offsetArr","rndArr","OP101","posArr","OP102","back","startArr","ctrlArr","endArr","OP200","dir","bezierPos","NUM_SEGMENT","format","DEBUG","stats","showPanel","dom","created","renderRequestID","inited","played","beforeDestroy","cancelAnimationFrame","removeEventListener","default","String","display","Boolean","loadingLogo","watch","sceneIndex","needResize","isWebGLSupport","computed","staticBG","indexBG","innerBG","mounted","prepareLoadingManifest","methods","addLoadListeners","clearLoadListeners","$emit","build3D","onPrepareComplete","initRenderPlayer","prepareMainManifest","buildLoading","onResize","render3D","sceneLoading","canvas","$refs","webglCanvas","MANIFEST","loadingStage","BG_BUFFER","addEventListener","clientX","clientY","w","__DPR","h","setSize","begin","mainStage","requestAnimationFrame","component","innerHeight","innerWidth","scrollTop","components","reservationEffect","Vue","config","productionTip","App","$mount"],"mappings":"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","file":"js/app.76611aad.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"https://cdn.jsdelivr.net/gh/journey-ad/honkai-starrail-scene@gh-pages/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = \"varying float vAlpha;\\nuniform sampler2D diffuse;\\nvarying vec2 vUv;\\nvoid main(){\\n  gl_FragColor = texture2D(diffuse,vUv);\\n  gl_FragColor.a *= vAlpha;\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/smoke1.c7c91ed5.png\";","module.exports = __webpack_public_path__ + \"img/rocks_c.3f189b2b.png\";","module.exports = \"varying vec2 vUv;\\nuniform float time;\\nuniform float speed;\\nuniform sampler2D diffuse;\\nuniform sampler2D flowMap;\\nfloat fun1(){\\n    float param7 = time * speed;\\n    return param7;\\n}\\n\\nvec2 fun2(vec2 param1, float param2){\\n    float param11 = sin(param2);\\n    float param10 = cos(param2);\\n    float param13 = param11 * -1.;\\n    mat2 param14 = mat2(param10, param13, param11, param10);\\n    vec2 param16 = param14 * param1;\\n    return param16;\\n}\\n\\nvec2 fun3(vec2 param3, vec2 param4){\\n    vec2 param17 = fun2(vUv, .9);\\n    vec2 param19 = param17 * param3;\\n    float param8 = fun1();\\n    vec2 param21 = param8 * param4;\\n    vec2 param22 = param19 + param21;\\n    return param22;\\n}\\n\\n\\nvoid main(){\\n    vec2 param23 = fun3(vec2(.4,4.), vec2(1.));\\n    vec4 param29 = texture2D(flowMap, param23);\\n    vec4 param26 = texture2D(diffuse, vUv);\\n    float param31 = (param29.r + 4.) * .2;\\n    float param33 = param31 * param26.a;\\n    vec4 param34 = vec4(param26.rgb, param33);\\n    gl_FragColor = param34;\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/trainLight.5eff8936.png\";","module.exports = __webpack_public_path__ + \"img/train_down.f314d55a.png\";","module.exports = __webpack_public_path__ + \"img/rocks2_qin4.7e93f203.png\";","module.exports = \"varying vec2 vUv;\\nvarying vec2 vUv2;\\nvec4 fun1(vec3 param1){\\n    mat4 param6 = projectionMatrix * modelViewMatrix;\\n    vec4 param11 = vec4(param1, 1.);\\n    vec4 param12 = param6 * param11;\\n    return param12;\\n}\\n\\nvec2 fun2(vec2 param2, float param3){\\n    float param16 = sin(param3);\\n    float param15 = cos(param3);\\n    float param18 = param16 * -1.;\\n    mat2 param19 = mat2(param15, param18, param16, param15);\\n    vec2 param21 = param19 * param2;\\n    return param21;\\n}\\n\\n\\nvoid main(){\\n    vUv = uv;\\n    vec2 param22 = fun2(uv, .9);\\n    vUv2 = param22;\\n    vec4 param13 = fun1(position);\\n    gl_Position = param13;\\n}\\n\";","module.exports = \"varying vec3 vUv;\\nuniform sampler2D diffuse;\\nvoid main(){\\n  gl_FragColor = texture2D(diffuse,vUv.xy) ;\\n  #ifdef EARTH\\n  gl_FragColor.a *= smoothstep(-300.,0.,-vUv.z);\\n  #else\\n  gl_FragColor.a *= smoothstep(-800.,0.,-vUv.z);\\n  #endif\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/star.532e3b8c.png\";","module.exports = \"attribute vec3 start;\\nattribute vec3 ctrl;\\nattribute vec3 end;\\nattribute vec3 rnd;\\n\\nuniform float time;\\n\\nvarying float vAlpha;\\nvarying vec2 vUv;\\n\\nvec3 quadraticBezier(vec3 a,vec3 b,vec3 c,float t){\\n  float s = 1.-t;\\n  vec3 q = s*s*a+2.*s*t*b+t*t*c;\\n  return q;\\n}\\n\\nvec2 fun1(vec2 param1, float param2){\\n    float param5 = sin(param2);\\n    float param4 = cos(param2);\\n    float param7 = param5 * -1.;\\n    mat2 param8 = mat2(param4, param7, param5, param4);\\n    vec2 param10 = param8 * param1;\\n    return param10;\\n}\\n\\nmat3 LookAt(vec3 origin, vec3 target) {\\n\\t\\tconst vec3 rr = vec3(1., 0.,1.);\\n\\t\\tvec3 ww = normalize(target - origin);\\n\\t\\tvec3 uu = normalize(cross(ww, rr));\\n\\t\\tvec3 vv = normalize(cross(uu, ww));\\t\\t\\n\\t\\treturn mat3(uu, vv, ww);\\n}\\n\\nvec3 getPos(float now){\\n \\n  vec3 nowPnt = quadraticBezier(start,ctrl,end,now);\\n  nowPnt.y += sin(now*rnd.z*12.+start.x)*start.z;\\n  return nowPnt;\\n}\\n\\nvoid main(){\\n  float nowTime = fract(time*rnd.x+rnd.y);\\n  vec3 nowPnt = getPos(nowTime);\\n  float nextTime = fract((time+.1)*rnd.x+rnd.y);\\n  vec3 nextPnt = getPos(nextTime);\\n  mat3 rotation = LookAt(nowPnt,nextPnt);\\n\\n\\n  vUv = fun1(uv - .5, start.z+nowTime)+.5;\\n  vUv = vec2((vUv.y+floor(rnd.y*5.))/5.,vUv.x);\\n\\n  float scale = smoothstep(0.1,.6,1.-nowTime);\\n  vAlpha = rnd.z*smoothstep(0.,.1,sin(nowTime*3.14))*scale;\\n  vec3 scaledPosition = position*rnd.z*(.8+.2*sin(time*rnd.y*14.+start.z));\\n  vec3 newPosition = -nowPnt.zxy+rotation*scaledPosition;\\n\\n  vec4 mvPosition = modelViewMatrix * vec4(newPosition,1.);\\n  gl_Position = projectionMatrix * mvPosition;\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/train.81f65e08.png\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=less&\"","module.exports = __webpack_public_path__ + \"img/smoke2.3c7b5c6c.png\";","module.exports = \"varying vec3 vUv;\\nuniform float time;\\nuniform float speed;\\nuniform float seed;\\nuniform sampler2D noise;\\nuniform float opacity;\\nuniform vec3 colorDark;\\nuniform vec3 colorLight;\\n\\nfloat fun1(){\\n    float param5 = time * speed;\\n    return param5;\\n}\\n\\nvec2 fun2(vec2 param1, vec2 param2){\\n    vec2 param9 = vUv.xy * param1+seed;\\n    float param6 = fun1();\\n    vec2 param11 = param6 * param2;\\n    vec2 param12 = param9 + param11;\\n    return param12;\\n}\\n\\n\\nvoid main(){\\n    //float alpha = smoothstep(0.,.5,abs(sin(vUv.z*3.14)));\\n    vec2 param13 = fun2(vec2(.5,float(SEGMENT)/5.), vec2(.0,.3));\\n    vec4 param19 = texture2D(noise, param13);\\n    float param26 = (param19.r) * smoothstep(0.,.5,sin(3.14*opacity));\\n    vec4 param27 = vec4(mix(colorDark,colorLight,param19.r),param26);\\n    gl_FragColor = param27;\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/sun1.9fdf543d.png\";","module.exports = __webpack_public_path__ + \"img/noise.4f10303b.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"varying vec2 vUv;\\nuniform float time;\\nuniform float speed;\\nuniform sampler2D diffuse;\\nuniform sampler2D flowMap;\\nfloat fun1(){\\n    float param5 = time * speed;\\n    return param5;\\n}\\n\\nvec2 fun2(vec2 param1, vec2 param2){\\n    vec2 param9 = vUv * param1;\\n    float param6 = fun1();\\n    vec2 param11 = param6 * param2;\\n    vec2 param12 = param9 + param11;\\n    return param12;\\n}\\n\\n\\nvoid main(){\\n    vec2 param13 = fun2(vec2(6.), vec2(1.));\\n    vec4 param17 = texture2D(flowMap, param13);\\n    float param23 = 0.05 * time;\\n    float param24 = param17.b + param23;\\n    float param31 = param24 + 0.5;\\n    vec2 param19 = (param17.rg + -.5) * -0.05;\\n    float param25 = fract(param24);\\n    float param32 = fract(param31);\\n    vec2 param26 = param19 * param25;\\n    vec2 param33 = param19 * param32;\\n    vec2 param27 = vUv + param26;\\n    vec2 param35 = param33 + vUv;\\n    float param37 = (param25 + -0.5) * 2.;\\n    vec4 param28 = texture2D(diffuse, param27);\\n    vec4 param36 = texture2D(diffuse, param35);\\n    float param38 = abs(param37);\\n    vec4 param39 = mix(param28, param36, param38);\\n    gl_FragColor = param39;\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/rocks2_qin6.59020988.png\";","module.exports = \"void main(){\\n  gl_Position = vec4(position,1.);\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/sun2.df2f3e49.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"},on:{\"scroll\":_vm.handleScroll}},[_c('reservation-effect',{attrs:{\"type\":_vm.effectType,\"width\":_vm.viewportSize.width,\"height\":_vm.viewportSize.height,\"y\":_vm.scrollV}}),_c('div',{staticClass:\"content\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"effect-wrap\"},[_c('canvas',{ref:\"webglCanvas\",attrs:{\"id\":\"webglCanvas\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n/**\n * @file 全局状态\n * uniform名字应该是来源于three和glsl编程的概念\n */\n\nimport * as THREE from 'three'\n\nconst uniforms = {\n  fps: {\n    value: 1 // 帧率\n  },\n  delta: {\n    value: .016 // 帧生成时间\n  },\n  time: {\n    value: 0 // 程序运行时间\n  },\n  resolution: {\n    value: new THREE.Vector2(1, 1) // 分辨率 [w, h]\n  },\n  mouse: {\n    value: new THREE.Vector2() // 鼠标位置\n  },\n  offset: {\n    value: new THREE.Vector2()\n  },\n  mouseDelta: {\n    value: new THREE.Vector2(0, 0)\n  },\n  progress: {\n    value: 0 // 加载进度 0-1    1.2正常渲染循环\n  },\n  ending: {\n    value: 0\n  }\n}\n\nexport default uniforms","/**\n * @file 星座特效\n * 用于显示内页背景上的星座特效: 漂浮闪烁的线段和端点\n */\n\nimport * as THREE from 'three'\nimport * as gsap from 'gsap/all'\n\n/**\n * @class 星座端点类\n */\nclass EndPoint {\n  /**\n   * 端点生成\n   * @param {number} segments 线段数量\n   * @param {THREE.ShaderMaterial} material 着色器材质\n   * @returns THREE.Mesh\n   */\n  static create(segments, material) {\n    // 使用给定材质创建一个几何体点\n    const geometry = (new THREE.InstancedBufferGeometry).copy(new THREE.PlaneBufferGeometry(4, 4))\n    // 端点位置比例数组\n    const endpointStepArr = new Float32Array(segments + 1)\n\n    for (let i = 0; i <= segments; i++) {\n      // 根据线段数量计算各个端点的位置比例\n      endpointStepArr[i] = i / segments;\n    }\n\n    // 将端点位置比例数组作为属性设置到几何体上\n    geometry.addAttribute(\"id\", new THREE.InstancedBufferAttribute(endpointStepArr, 1, true));\n\n    // 创建多边形网格\n    const mesh = new THREE.Mesh(geometry, material);\n\n    // 阻止视锥外剔除，猜测是防止端点处于视锥外被剔除导致线段显示异常\n    mesh.frustumCulled = false;\n\n    return mesh\n  }\n}\n\n/**\n * @class 星座特效类\n */\nclass Constellation {\n  /**\n   * 生成线条\n   * @param {number} segments 分段数量\n   * @param {THREE.ShaderMaterial} material 着色器材质\n   * @returns THREE.Mesh\n   */\n  static create(segments, material) {\n    // 使用给定材质创建一个几何体三棱柱\n    const geometry = new THREE.CylinderBufferGeometry(1, 1, 1, 3, segments, true)\n    // 创建多边形网格\n    const mesh = new THREE.Mesh(geometry, material)\n\n    // 阻止视锥外剔除\n    mesh.frustumCulled = false\n\n    return mesh\n  }\n\n  /**\n   * 生成一个随机空间坐标\n   * \n   * @param {*} step x轴起始位置比例\n   * @param {*} val 取值范围\n   * @returns {THREE.Vector3} Vector3([起始位置比例*取值范围, 取值范围/2), [-val/2, val/2), [-val/4, val/4))\n   */\n  static randomPos(step, val = 200) {\n    return new THREE.Vector3(\n      (step * val) + (Math.random() * val / 2), // x轴随机位置 [起始位置比例*取值范围, 取值范围/2)\n      (Math.random() * val) - (val / 2), // y轴随机位置 [-val/2, val/2)\n      (Math.random() * val / 2) - (val / 4) // z轴随机位置 [-val/4, val/4)\n    )\n  }\n\n  static emit(lm, option) {\n    let {\n      position = new THREE.Vector3, // 星座位置\n      scale,\n      duration = 10, // 星座持续时间\n      obj3D, // 星座的3d object\n      lineMaterial // 线段材质\n    } = option || {}\n\n    // 限制星座数量，超出复用\n    if (this.pool.length > 10) {\n      obj3D = this.pool.splice(Math.floor(Math.random() * this.pool.length), 1)[0]\n      lineMaterial = obj3D.children[0].material;\n    } else {\n      // 初始化3d物体作为星座\n      obj3D = new THREE.Object3D;\n\n      // 随机设置线段数量为[2, 4]\n      const segments = 2 + Math.round(2 * Math.random());\n\n      // 取到线条材质\n      lineMaterial = lm.getMaterial({\n        shader: \"LINE\",\n        time: 1,\n        noise: \"noise?wrapS=1000&wrapT=1000\"\n      })\n      // 定义线段数量作为属性\n      lineMaterial.defines.SEGMENT = segments;\n\n      const points = {\n        value: []\n      }\n\n      for (let i = 0; i <= lineMaterial.defines.SEGMENT; i++) {\n        points.value[i] = new THREE.Vector3;\n      }\n      // 推测是把端点位置保存到线条上\n      lineMaterial.uniforms.points = points;\n\n      // 创建线条\n      const lineMesh = this.create(segments, lineMaterial);\n      // 设置渲染顺序\n      lineMesh.renderOrder = 1000;\n\n      // 取到端点材质\n      const pointMaterial = lm.getMaterial({\n        shader: \"PARTICLE\",\n        time: 1,\n        noise: \"noise?wrapS=1000&wrapT=1000\"\n      })\n      // 创建端点\n      const pointMesh = EndPoint.create(segments, pointMaterial);\n\n      // 设置端点属性\n      pointMaterial.uniforms.points = lineMaterial.uniforms.points\n      pointMaterial.uniforms.opacity = lineMaterial.uniforms.opacity\n      pointMaterial.defines.SEGMENT = segments\n\n      // 设置渲染顺序，保证端点在线条上层\n      pointMesh.renderOrder = 1001\n\n      // 线条和端点添加到星座\n      obj3D.add(lineMesh)\n      obj3D.add(pointMesh)\n    }\n\n    // 设置可见和随机旋转\n    obj3D.visible = true\n    obj3D.rotation.z = 6.28 * Math.random()\n    lineMaterial.uniforms.seed.value = Math.random()\n\n    /**\n      对每个端点生成初始和结束状态的空间坐标，其中x轴位置和当前端点所处线条位置比例相关\n      逻辑是根据端点个数平均分段给定基准位置，然后在基准位置基础上随机向右偏移，最多向右偏移取值范围的一半\n      最终呈现效果是线条整体保持向右方向展开的趋势\n    */\n    for (let i = 0; i <= lineMaterial.defines.SEGMENT; i++) {\n      const initPos = this.randomPos(i / lineMaterial.defines.SEGMENT - .5, 100)\n      const targetPos = this.randomPos(i / lineMaterial.defines.SEGMENT - .5, 100)\n\n      // 设定端点初始位置\n      lineMaterial.uniforms.points.value[i].copy(initPos)\n\n      // 设定端点结束位置\n      gsap.TweenMax.to(\n        lineMaterial.uniforms.points.value[i],\n        duration,\n        {\n          overwrite: true,\n          ease: gsap.Linear.easeNone,\n          x: targetPos.x,\n          y: targetPos.y,\n          z: targetPos.z\n        }\n      )\n    }\n\n    // 星座渐现效果\n    gsap.TweenMax.fromTo(\n      lineMaterial.uniforms.opacity,\n      duration,\n      {\n        value: 0\n      },\n      {\n        overwrite: true,\n        ease: gsap.Linear.easeNone,\n        value: 1\n      }\n    )\n\n    // 星座位移效果，结束后放入池子并隐藏，等待复用\n    gsap.TweenMax.fromTo(\n      obj3D.position,\n      duration,\n      {\n        x: position.x,\n        y: position.y,\n        z: position.z\n      },\n      {\n        ease: gsap.Linear.easeNone,\n        overwrite: true,\n        z: position.z + 150,\n        y: position.y + 100,\n        onComplete: () => {\n          this.pool.push(obj3D)\n          obj3D.visible = false\n        }\n      }\n    )\n\n    // 返回星座3d物体\n    return obj3D\n  }\n}\n\n// 星座池子\nConstellation.pool = []\n\nexport { Constellation }","\n/**\n * @file 着色器材质配置\n * 配置了使用自定义shader渲染的材质列表\n * docs: https://threejs.org/docs/#api/zh/materials/ShaderMaterial\n */\n\nimport * as THREE from 'three'\n\nconst conf = {\n  BASIC: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/BASIC.vert'),\n    fragmentShader: require('@/assets/shader/BASIC.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      },\n      color: {\n        value: new THREE.Color(0x0)\n      }\n    }\n  }),\n  LINE: new THREE.ShaderMaterial({\n    transparent: true,\n    depthTest: false,\n    depthWrite: false,\n    vertexShader: require('@/assets/shader/LINE.vert'),\n    fragmentShader: require('@/assets/shader/LINE.frag'),\n    uniforms: {\n      seed: {\n        value: 1\n      },\n      speed: {\n        value: .3\n      },\n      opacity: {\n        value: 1\n      },\n      colorDark: {\n        value: new THREE.Color(0x6499ff)\n      },\n      colorLight: {\n        value: new THREE.Color(0xd1e7ff)\n      }\n    }\n  }),\n  PARTICLE: new THREE.ShaderMaterial({\n    blending: THREE.AdditiveBlending,\n    side: THREE.DoubleSide,\n    transparent: true,\n    depthTest: false,\n    depthWrite: false,\n    vertexShader: require('@/assets/shader/PARTICLE.vert'),\n    fragmentShader: require('@/assets/shader/PARTICLE.frag'),\n    uniforms: {\n      speed: {\n        value: .3\n      },\n      opacity: {\n        value: 1\n      },\n      colorDark: {\n        value: new THREE.Color(0x6499ff)\n      },\n      colorLight: {\n        value: new THREE.Color(0xd1e7ff)\n      }\n    }\n  }),\n  STAR: new THREE.ShaderMaterial({\n    blending: THREE.AdditiveBlending,\n    transparent: true,\n    depthTest: false,\n    depthWrite: false,\n    vertexShader: require('@/assets/shader/STAR.vert'),\n    fragmentShader: require('@/assets/shader/STAR.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  STAR_SKY: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/STAR_SKY.vert'),\n    fragmentShader: require('@/assets/shader/STAR_SKY.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  STAR_MASK: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/STAR_MASK.vert'),\n    fragmentShader: require('@/assets/shader/BASIC.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      },\n      color: {\n        value: new THREE.Color(0x0)\n      }\n    }\n  }),\n  TRAIN_PARTICLE: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/TRAIN_PARTICLE.vert'),\n    fragmentShader: require('@/assets/shader/TRAIN_PARTICLE.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  LOADING_PARTICLE: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/LOADING_PARTICLE.vert'),\n    fragmentShader: require('@/assets/shader/LOADING_PARTICLE.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  TRAIN: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/TRAIN.vert'),\n    fragmentShader: require('@/assets/shader/TRAIN.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  PLANET: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/BASIC.vert'),\n    fragmentShader: require('@/assets/shader/PLANET.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  PLANET_BG: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/PLANET_BG.vert'),\n    fragmentShader: require('@/assets/shader/PLANET_BG.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  PLANET_RING: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/BASIC.vert'),\n    fragmentShader: require('@/assets/shader/PLANET_RING.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  SKY_BG: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/BASIC.vert'),\n    fragmentShader: require('@/assets/shader/SKY_BG.frag')\n  }),\n  STAR_BG: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/BASIC.vert'),\n    fragmentShader: require('@/assets/shader/STAR_BG.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  BLEND_SCREEN: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/BASIC.vert'),\n    fragmentShader: require('@/assets/shader/BLEND_SCREEN.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  SUN: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/BASIC.vert'),\n    fragmentShader: require('@/assets/shader/SUN.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  SMOKE: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/BASIC.vert'),\n    fragmentShader: require('@/assets/shader/SMOKE.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  SMOKE2: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/BASIC.vert'),\n    fragmentShader: require('@/assets/shader/SMOKE2.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  }),\n  LIGHT: new THREE.ShaderMaterial({\n    vertexShader: require('@/assets/shader/BASIC.vert'),\n    fragmentShader: require('@/assets/shader/LIGHT.frag'),\n    uniforms: {\n      opacity: {\n        value: 1\n      }\n    }\n  })\n}\n\nexport default conf","/**\n * @file 混合光影效果\n * 用于混合渲染光影效果：背景彩虹阳光、列车车灯和bloom等光影效果\n */\n\nimport * as THREE from 'three'\nimport shaderSetting from \"@/config/shaderSetting.js\";\n\n// 创建一个基础材质的浅拷贝\n// https://threejs.org/docs/index.html?q=ShaderMaterial#api/zh/materials/ShaderMaterial.clone\nconst material = shaderSetting.BASIC.clone()\n\n// 打开材质开关，在shader编译阶段启用相关处理\nmaterial.defines.USE_TEXTURE = true\n\n// 指定传给shader的uniform变量diffuse，值会被设置为光影效果的贴图\nmaterial.uniforms.diffuse = {\n  value: null\n}\n\n// 创建一个正交相机\nconst camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1)\n\n// 创建光影场景\nconst scene = new THREE.Scene()\n\n// 使用光影材质创建网格，尺寸为2*2 对应正交相机的视口，使光效与物体刚好重合\nconst mesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), material);\n\nscene.add(mesh)\n\n// 禁用自动更新矩阵，猜测是此处用于混合光效的相机位置恒定，无需变换矩阵，禁用自动更新可以提高性能\nscene.autoUpdate = false\n\n/**\n * @class 混合光影效果类\n */\nclass BlendRender {\n  /**\n   * 混合渲染器\n   * @param {THREE.WebGLRenderer} renderer 渲染器实例\n   * @param {THREE.WebGLRenderTarget} diffuseTarget 光效缓冲区\n   * @param {THREE.WebGLRenderTarget} renderTarget 目标缓冲区\n   * @param {boolean} clear 是否清除目标缓冲区\n   */\n  static render(renderer, diffuseTarget, renderTarget, clear = true) {\n    // 从光效缓冲区中获取光效纹理并设置给光影材质\n    material.uniforms.diffuse.value = diffuseTarget.texture\n\n    /**\n     * 渲染光影场景到目标缓冲区\n     * ref: https://github.com/mrdoob/three.js/blob/7043802877/src/renderers/WebGLRenderer.js#L1027\n     */\n    renderer.render(scene, camera, renderTarget, clear)\n  }\n}\n\nexport { BlendRender }","\n/**\n * @file 动画相关配置\n * 定义了加载、页面状态切换和场景物体触发等事件需要播放的动画和提供的播放方法\n * 结合使用TweenMax和threejs实现\n */\n\nimport * as THREE from 'three'\nimport * as gsap from 'gsap/all'\nimport uniformSetting from \"@/config/uniformSetting\";\n\n/**\n * 星座特效\n * 用于显示内页背景上的星座特效: 漂浮闪烁的线段和端点\n */\nimport { Constellation } from '@/three/Constellation'\n/**\n * 混合光影效果\n * 用于混合渲染光影效果：背景的彩虹太阳光、列车的车灯和bloom效果等\n */\nimport { BlendRender } from '@/three/BlendRender'\n\nconst animationSetting = {\n  onLoadingInit() {\n    let LOGO = this.getObjectByName(\"LOGO\"),\n      PARTICLES = this.getObjectByName(\"PARTICLES\");\n\n    this.scene.intro = () => {\n      gsap.TweenMax.fromTo(LOGO.material.uniforms.opacity, .5, {\n        value: 0\n      }, {\n        overwrite: true,\n        value: 1\n      })\n\n      gsap.TweenMax.fromTo(LOGO.rotation, 1, {\n        y: 1,\n        x: 1\n      }, {\n        overwrite: true,\n        x: 0,\n        y: 0,\n        ease: gsap.Back.easeOut\n      })\n\n      gsap.TweenMax.fromTo(LOGO.position, .5, {\n        z: -500\n      }, {\n        overwrite: true,\n        z: 0,\n        ease: gsap.Back.easeOut\n      })\n    }\n\n    this.scene.outro = () => {\n      gsap.TweenMax.fromTo(uniformSetting.ending, 1, {\n        value: 0\n      }, {\n        overwrite: true,\n        value: 1.3,\n        ease: gsap.Power2.easeOut,\n        onComplete: () => {\n          this.scene.visible = false\n        }\n      })\n\n      gsap.TweenMax.to(uniformSetting.progress, 1, {\n        overwrite: true,\n        value: 1\n      })\n\n      gsap.TweenMax.to(PARTICLES.scale, .5, {\n        overwrite: true,\n        x: .2,\n        y: .2,\n        ease: gsap.Back.easeIn\n      })\n\n      gsap.TweenMax.to(PARTICLES.rotation, .7, {\n        overwrite: true,\n        z: 1.5,\n        ease: gsap.Power2.easeInOut\n      })\n\n      gsap.TweenMax.to(LOGO.material.uniforms.opacity, .5, {\n        overwrite: true,\n        value: 0,\n        delay: .1\n      })\n\n      gsap.TweenMax.to(LOGO.position, .5, {\n        overwrite: true,\n        z: -500,\n        delay: .1,\n        ease: gsap.Back.easeIn\n      })\n    }\n  },\n\n  /**\n   * 光影效果动画\n   * @param {THREE.WebGLRenderer} renderer 渲染器实例\n   */\n  onBlendRender(renderer) {\n    // 从光影场景中取到渲染缓冲区\n    const diffuseTarget = renderer.getRenderTarget();\n\n    // 使用混合渲染器渲染光影效果到bg_buffer上\n    BlendRender.render(renderer, diffuseTarget, this.scene.bgBuffer)\n\n    // 激活渲染缓冲区\n    renderer.setRenderTarget(diffuseTarget)\n  },\n\n  onRockRotate() {\n    this.rotation.y = .05 * uniformSetting.time.value * this.userData.speed + this.userData.delay\n    this.position.x = this.userData.initPos.x + Math.sin(.5 * uniformSetting.time.value * this.userData.speed + this.userData.delay) * this.userData.range * 15\n    this.position.z = this.userData.initPos.z + Math.cos(.2 * uniformSetting.time.value * this.userData.speed + this.userData.delay) * Math.sin(uniformSetting.time.value * this.userData.speed + this.userData.delay) * this.userData.range * 15\n  },\n  onIndexInit() {\n    const obj_ALL = this.getObjectByName(\"ALL\"),\n      obj_SUN1 = this.getObjectByName(\"SUN1\"),\n      obj_INDEX_ALL = this.getObjectByName(\"INDEX_ALL\"),\n      obj_STAR_INNER = this.getObjectByName(\"STAR_INNER\"),\n      curPos = new THREE.Vector2(.5, .5),\n      movePos = new THREE.Vector2(.5, .5);\n\n    // 重设列车位置\n    const obj_TRAIN_MAIN = this.getObjectByName(\"TRAIN_MAIN\")\n    obj_TRAIN_MAIN.position.set(-950.03125, -862.64984, 150.34436)\n\n    this.scene.move = (x, y) => {\n      movePos.set(x, y)\n    }\n\n    const obj_LIGHT1 = this.getObjectByName(\"LIGHT1\");\n    this.scene.resize = () => {\n      obj_LIGHT1.position.x = 600\n      obj_LIGHT1.updateMatrix()\n    }\n\n    const obj_BODY = this.getObjectByName(\"BODY\");\n    this.scene.intro = (onComplete) => {\n      this.getObjectByName(\"TRAIN\").playAnimation(\"INTRO\")\n      this.getObjectByName(\"INDEX\").playAnimation(\"INTRO\")\n      this.scene.visible = true\n\n      gsap.TweenMax.to(obj_BODY.material.uniforms.opacity, .6, {\n        delay: .4,\n        value: 0,\n        onComplete\n      })\n    }\n\n    this.scene.onBeforeRender = () => {\n      curPos.x += .02 * (movePos.x - curPos.x)\n      curPos.y += .02 * (movePos.y - curPos.y)\n      obj_ALL.rotation.x = Math.max(-.02, Math.min(.02, (.5 - curPos.y) / 35)) + Math.PI / 2\n      obj_ALL.rotation.z = Math.max(-.01, Math.min(.01, (.5 - curPos.x) / 35))\n    }\n\n    this.scene.scroll = function (t) {\n      gsap.TweenMax.to(obj_SUN1.position, 0, {\n        y: obj_SUN1.userData.initPos.y - 7 * t / 50,\n        overwrite: true,\n        ease: gsap.Linear.easeNone\n      }),\n        gsap.TweenMax.to(obj_INDEX_ALL.position, 0, {\n          z: t,\n          overwrite: true,\n          ease: gsap.Linear.easeNone\n        })\n    }\n\n    this.scene.change = function (type, y, duration = .3) {\n      if (type === \"index\") {\n        obj_INDEX_ALL.visible = true\n\n        gsap.TweenMax.to(obj_SUN1.position, duration, {\n          y: obj_SUN1.userData.initPos.y - 7 * y / 50,\n          overwrite: true,\n          ease: gsap.Power2.easeInOut\n        })\n\n        gsap.TweenMax.to(obj_INDEX_ALL.position, duration, {\n          z: y,\n          overwrite: true,\n          ease: gsap.Power2.easeInOut\n        })\n\n        gsap.TweenMax.fromTo(obj_STAR_INNER.position, duration,\n          {\n            y: obj_STAR_INNER.userData.initPos.y\n          },\n          {\n            y: obj_STAR_INNER.userData.initPos.y - 1000,\n            overwrite: true,\n            ease: gsap.Power2.easeInOut,\n            onComplete: () => {\n              obj_STAR_INNER.visible = false\n            }\n          }\n        )\n      } else {\n        obj_STAR_INNER.visible = true\n        gsap.TweenMax.fromTo(obj_STAR_INNER.position, duration, {\n          y: obj_STAR_INNER.userData.initPos.y - 1000\n        }, {\n          y: obj_STAR_INNER.userData.initPos.y,\n          overwrite: true,\n          ease: gsap.Power2.easeInOut\n        })\n        gsap.TweenMax.to(obj_SUN1.position, duration, {\n          y: obj_SUN1.userData.initPos.y + 700,\n          overwrite: true,\n          ease: gsap.Power2.easeInOut\n        })\n        gsap.TweenMax.to(obj_INDEX_ALL.position, duration, {\n          z: -5000,\n          overwrite: true,\n          ease: gsap.Power2.easeInOut,\n          onComplete: () => {\n            obj_INDEX_ALL.visible = false\n          }\n        })\n      }\n    }\n  },\n  onInnerLineInit: function (object, lm) {\n    this.frame = 0\n    this.count = 0\n    this.onBeforeRender = () => {\n      if (this.frame++ % 250 == 0) {\n        const item = Constellation.emit(lm, {\n          duration: 5 * Math.random() + 15,\n          position: new THREE.Vector3(1200 * Math.random() - 650, -50 * Math.random() - 200, 0)\n        });\n        this.add(item)\n      }\n    }\n  }\n}\n\nexport default animationSetting","/**\n * @file 资源加载清单\n * 根据场景和类型做了分类，可加载的包括材质图、spine动画(本demo未用到)等\n */\n\nexport default {\n  LOADING_MANIFEST: [\n    {\n      src: require('@/assets/textures/trainParticle.png'),\n      id: 'trainParticle',\n      type: 'image',\n    },\n  ],\n  INDEX_MANIFEST: [\n    {\n      src: require('@/assets/textures/rocks_c.png'),\n      id: 'rocks_c',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/rocks_b.png'),\n      id: 'rocks_b',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/rocks2_qin1.png'),\n      id: 'rocks2_qin1',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/rocks2_qin2.png'),\n      id: 'rocks2_qin2',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/rocks2_qin3.png'),\n      id: 'rocks2_qin3',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/rocks2_qin4.png'),\n      id: 'rocks2_qin4',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/rocks2_qin5.png'),\n      id: 'rocks2_qin5',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/rocks2_qin6.png'),\n      id: 'rocks2_qin6',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/train_rocks.png'),\n      id: 'train_rocks',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/train_down.png'),\n      id: 'train_down',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/planet_faguang.png'),\n      id: 'planet_faguang',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/planet_guangzhu.png'),\n      id: 'planet_guangzhu',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/light1.png'),\n      id: 'light1',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/topLight.png'),\n      id: 'topLight',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/noise.png'),\n      id: 'noise',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/planet.png'),\n      id: 'planet',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/sky.png'),\n      id: 'sky',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/star.png'),\n      id: 'star',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/train.png'),\n      id: 'train',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/trainLight.png'),\n      id: 'trainLight',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/planet2.png'),\n      id: 'planet2',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/planetRing2.png'),\n      id: 'planetRing2',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/light3.png'),\n      id: 'light3',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/sun1.png'),\n      id: 'sun1',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/sun2.png'),\n      id: 'sun2',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/line.png'),\n      id: 'line',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/smoke1.png'),\n      id: 'smoke1',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/smoke2.png'),\n      id: 'smoke2',\n      type: 'image',\n    },\n    {\n      src: require('@/assets/textures/smoke3.png'),\n      id: 'smoke3',\n      type: 'image',\n    },\n  ],\n  SPINE_MANIFEST: {},\n}\n","/**\n * @file 加载舞台和主舞台类\n * 包含了舞台的初始化、摄影机设置、渲染方法等\n */\n\nimport * as THREE from 'three'\nimport shaderSetting from \"@/config/shaderSetting\";\n\nclass MainStage {\n  constructor() {\n    let item, newCamera, scene, mesh\n\n    item = shaderSetting.BASIC.clone()\n    item.defines.USE_TEXTURE = true\n    item.uniforms.diffuse = {\n      value: null\n    };\n\n    newCamera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1)\n    scene = new THREE.Scene()\n    mesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), item);\n\n    scene.add(mesh)\n    scene.autoUpdate = false\n\n    this.render = function (renderer, camera, target, clear = true) {\n      item.uniforms.diffuse.value = camera.texture\n      renderer.render(scene, newCamera, target, clear)\n    }\n  }\n}\n\nclass LoadingStage {\n  constructor(renderer, target) {\n    this.progress = {\n      value: 0\n    }\n\n    const material = new THREE.ShaderMaterial({\n      vertexShader: require('@/assets/shader/LOADING.vert'),\n      fragmentShader: require('@/assets/shader/LOADING.frag'),\n      uniforms: {\n        diffuse: {\n          value: target.texture,\n          type: \"t\"\n        },\n        resolution: {\n          value: new THREE.Vector2(1, 1)\n        },\n        highlight: {\n          value: new THREE.Color(0x2375da)\n        },\n        center: {\n          value: new THREE.Vector2(.5, .5)\n        },\n        scale: {\n          value: new THREE.Vector2(.5, 1)\n        },\n        progress: this.progress\n      }\n    }),\n      camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1),\n      scene = new THREE.Scene(),\n      mesh = new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), material);\n\n    scene.add(mesh)\n    scene.autoUpdate = false\n\n    this.setResolution = function (x, y) {\n      material.uniforms.resolution.value.set(x, y)\n    }\n\n    this.render = function (target, clear) {\n      renderer.render(scene, camera, target, clear)\n    }\n  }\n}\n\nexport { MainStage, LoadingStage }","import * as THREE from 'three'\n\nclass geometryPlugin1 {\n  static process(buffer, item) {\n    if (item.subuvs) {\n      item.subuvs.forEach((item, i) => {\n        buffer.addAttribute(\n          `uv${(i + 2)}`,\n          new THREE.BufferAttribute(new Float32Array(item), 2)\n        )\n      })\n    }\n\n    return buffer\n  }\n}\n\nclass geometryPlugin2 {\n  static process(buffer, item) {\n    if (item.color && Array.isArray(item.color)) {\n      item.color.forEach((item, i) => {\n        buffer.addAttribute(\n          `color${(i + 1)}`,\n          new THREE.BufferAttribute(new Float32Array(item.map(num => num / 255)), 3)\n        )\n      })\n    }\n\n    return buffer\n  }\n}\n\nexport { geometryPlugin1, geometryPlugin2 }","const request = option => {\n  const {\n    method = 'get',\n    url = '',\n    responseType = 'text',\n    data = {},\n    baseURL,\n    timeout,\n    onDownloadProgress = function () { }\n  } = option\n\n  const xhr = (function () {\n    let xhr = false\n    try {\n      xhr = new XMLHttpRequest()\n    } catch (e) {\n      try {\n        xhr = new ActiveXObject(\"Microsoft.XMLHTTP\")\n      } catch (e) {\n        try {\n          xhr = new ActiveXobject(\"Microsoft.XMLHTTP\")\n        } catch (e) {\n          xhr = false\n        }\n      }\n    }\n    return xhr\n  })();\n\n  function parse(xhr, opt) {\n    var resp = xhr.response ? xhr.response : xhr.responseText;\n\n    if (typeof resp === \"string\" && opt.responseType === \"json\") {\n      resp = JSON.parse(resp)\n    }\n\n    return resp\n  }\n\n  return new Promise((resolve, reject) => {\n    if (!xhr) reject(new Error(\"您的浏览器不支持XHR\"))\n\n    var length = false, loaded = 0;\n    xhr.onprogress = function (evt) {\n      length = evt.lengthComputable\n      onDownloadProgress(evt, length, (evt.loaded - loaded) / evt.total)\n      loaded = evt.loaded\n    }\n\n    xhr.open(method, url)\n    xhr.responseType = responseType\n    xhr.onreadystatechange = function (n) {\n      if (xhr.readyState === 4) {\n        if (xhr.status === 200) {\n          resolve(\n            {\n              lengthComputable: length,\n              data: parse(xhr, { responseType })\n            }\n          )\n        } else {\n          reject(xhr.statusText)\n        }\n      }\n    }\n\n    xhr.send(data)\n  })\n}\n\nexport default request","import request from '@/utils/xhr.js'\n\nfunction fetchFromURL(url, responseType, loadCb, success, pushError, error) {\n  request({\n    method: \"get\",\n    baseURL: window.location.origin,\n    url,\n    responseType,\n    onDownloadProgress: function (evt, length, prog) {\n      length && loadCb(true, prog)\n    }\n  })\n    .then(function (resp) {\n      resp.lengthComputable || loadCb(resp.lengthComputable)\n      success(resp.data)\n    })\n    .catch(function (e) {\n      console.log(\"load file failed：\", e)\n      error(url, e)\n      pushError({\n        url,\n        reason: e\n      })\n      loadCb()\n    })\n}\n\nfunction crossOrigin(url, e, done, success, error, o) {\n  var div = document.createElement(\"div\");\n  div.style.visibility = \"hidden\";\n\n  var iframe = document.createElement(\"iframe\");\n  iframe.src = url\n  iframe.width = 0\n  iframe.height = 0\n  iframe.onload = function () {\n    done()\n    success()\n    document.body.removeChild(div)\n  }\n\n  iframe.error = function (e) {\n    done()\n    o(url, e)\n    error({\n      url: url,\n      reason: e\n    })\n    document.body.removeChild(div)\n  }\n\n  document.body.appendChild(div),\n    div.appendChild(iframe)\n}\n\nconst typeMethods = {\n  IMAGE: {\n    method: function (t) {\n      for (var e = arguments.length, n = Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++)\n        n[r - 1] = arguments[r];\n      t.crossDomain ? crossOrigin.apply(undefined, n) : fetchFromURL.apply(undefined, n)\n    }\n  },\n  VIDEO: {\n    method: function (t) {\n      for (var e = arguments.length, n = Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++)\n        n[r - 1] = arguments[r];\n      t.crossDomain ? crossOrigin.apply(undefined, n) : fetchFromURL.apply(undefined, n)\n    }\n  },\n  SOUND: {\n    method: function (t) {\n      for (var e = arguments.length, n = Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++)\n        n[r - 1] = arguments[r];\n      t.crossDomain ? crossOrigin.apply(undefined, n) : fetchFromURL.apply(undefined, n)\n    }\n  },\n  CSS: {\n    method: function (t) {\n      for (var e = arguments.length, n = Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++)\n        n[r - 1] = arguments[r];\n      t.crossDomain ? crossOrigin.apply(undefined, n) : fetchFromURL.apply(undefined, n)\n    }\n  },\n  JS: {\n    method: function (t) {\n      for (var e = arguments.length, n = Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++)\n        n[r - 1] = arguments[r];\n      t.crossDomain ? crossOrigin.apply(undefined, n) : fetchFromURL.apply(undefined, n)\n    }\n  },\n  JSON: {\n    method: function (t) {\n      for (var e = arguments.length, n = Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++)\n        n[r - 1] = arguments[r];\n      t.crossDomain ? crossOrigin.apply(undefined, n) : fetchFromURL.apply(undefined, n)\n    }\n  },\n  TXT: {\n    method: function (t) {\n      for (var e = arguments.length, n = Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++)\n        n[r - 1] = arguments[r];\n      t.crossDomain ? crossOrigin.apply(undefined, n) : fetchFromURL.apply(undefined, n)\n    }\n  },\n  XML: {\n    method: function (t) {\n      for (var e = arguments.length, n = Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++)\n        n[r - 1] = arguments[r];\n      t.crossDomain ? crossOrigin.apply(undefined, n) : fetchFromURL.apply(undefined, n)\n    }\n  }\n}\n\nconst type = url => {\n  switch (url.substring(url.lastIndexOf(\".\") + 1).toLowerCase()) {\n    case \"jpeg\":\n    case \"jpg\":\n    case \"gif\":\n    case \"png\":\n    case \"webp\":\n    case \"bmp\":\n      return typeMethods.IMAGE;\n    case \"ogg\":\n    case \"mp3\":\n    case \"wav\":\n    case \"aac\":\n      return typeMethods.SOUND;\n    case \"mp4\":\n    case \"webm\":\n    case \"ts\":\n      return typeMethods.VIDEO;\n    case \"json\":\n      return typeMethods.JSON;\n    case \"xml\":\n      return typeMethods.XML;\n    case \"css\":\n      return typeMethods.CSS;\n    case \"js\":\n      return typeMethods.JS;\n    default:\n      return typeMethods.TXT\n  }\n}\n\nclass Loader {\n  constructor(options) {\n    const {\n      list = [],\n      minTime = 0,\n      maxTime,\n      defineTime,\n      json = {},\n      onprogress = function () { },\n      onload = function () { },\n      onerror = function () { },\n    } = options || {}\n\n    this.list = list\n    this.minTime = minTime\n    this.onprogress = onprogress\n    this.onload = onload\n    this.count = 0\n    this.progress = 0\n    this.canLoad = false\n    this.max = this.list.length\n    this.hasLoad = false\n    this.defineTime = defineTime\n    this.maxTime = maxTime\n    this.onerror = onerror\n    this.globalErrList = []\n    this.timeslice = Number(Math.ceil(100 / this.list.length).toFixed(0))\n    this.loadCb = this.loadCb.bind(this)\n    this.init = this.init.bind(this)\n    this.final = this.final.bind(this)\n  }\n\n  init() {\n    this.onprogress(0)\n    if (this.defineTime) {\n      const check = () => {\n        if (this.progress < 100) {\n          setTimeout(() => {\n            if (!this.hasLoad) {\n              this.onprogress(this.progress, Math.round(this.defineTime / 100) * this.progress)\n              this.progress += 1\n              check()\n            }\n          }, this.defineTime / 100)\n        } else if (this.progress === 100) {\n          this.onprogress(this.progress, this.defineTime)\n          this.onload()\n\n          if (this.globalErrList.length > 0) this.onerror(this.globalErrList)\n        }\n      }\n      check()\n    } else {\n      setTimeout(() => {\n        this.canLoad = true\n        this.final()\n      }, this.minTime)\n\n      this.list.forEach((item, i) => {\n        type(item.url)\n          .method(\n            { crossDomain: item.crossDomain || false },\n            item.url,\n            item.responseType,\n            this.loadCb,\n            data => {\n              item.load && item.load(data, i)\n            },\n            err => {\n              this.globalErrList.push(err)\n            },\n            (url, err) => {\n              item.error && item.error(url, i, err)\n            }\n          )\n      })\n    }\n  }\n\n  loadCb(flag, prog) {\n    if (!this.hasLoad) {\n      this.progress += flag ? prog * this.timeslice : this.timeslice\n      this.progress = this.progress > 100 ? 100 : this.progress\n\n      if (this.progress <= 99) {\n        this.onprogress(Number(this.progress.toFixed(0)))\n      }\n    }\n\n    this.final()\n  }\n\n  final() {\n    if (this.progress > 99 && this.canLoad && !this.hasLoad) {\n      this.progress = 100\n\n      this.onprogress && this.onprogress(this.progress)\n\n      this.onload && this.onload()\n\n      this.globalErrList.length > 0 && this.onerror(this.globalErrList)\n\n      this.hasLoad = true\n    }\n  }\n}\n\nexport { Loader }","import { EventDispatcher } from \"three\";\nimport { Loader } from './loader.js';\n\nclass LoadItem {\n  constructor(item) {\n    const { src = \"\", type = \"\", id = Math.random() } = item\n\n    this.id = id\n    this.url = src\n    this.mediaType = this.isBase64 ? 'base64' : type\n\n    switch (type) {\n      case \"video\":\n      case \"image\":\n        this.responseType = \"blob\";\n        break;\n\n      case \"audio\":\n        this.responseType = \"arraybuffer\";\n        break;\n\n      default:\n        this.responseType = type\n    }\n\n    this.result = null\n    this.loader = fileLoader.loader\n\n    if (this.mediaType === 'base64') {\n      this.load(this.url)\n    }\n  }\n\n  checkComplete() {\n    this.loader.onFileComplete(this)\n    this.loader.counter += 1\n    this.loader.counter === Object.keys(this.loader.list).length && this.loader.onLoadComplete()\n  }\n\n  load(data) {\n    switch (this.mediaType) {\n      case \"base64\":\n        this.result = new Image\n        this.result.onload = this.checkComplete.bind(this)\n        this.result.src = data\n        break;\n\n      case \"video\":\n        this.result = window.URL.createObjectURL(data)\n        this.checkComplete()\n        break;\n\n      case \"image\":\n      case \"blob\":\n        this.result = new Image\n        this.result.onload = this.checkComplete.bind(this)\n        this.result.src = window.URL.createObjectURL(data)\n        break;\n\n      case \"json\":\n      default:\n        this.result = data\n        this.checkComplete()\n    }\n  }\n\n  get isBase64() {\n    return this.url.startsWith(\"data:image\")\n  }\n}\n\nclass LoadQueue extends EventDispatcher {\n  constructor() {\n    super()\n    this.loaded = true\n    this.list = {}\n    this.counter = 0\n  }\n\n  removeAll() {\n    this.counter = 0\n    this.list = {}\n  }\n\n  getItems() {\n    return Object.values(this.list)\n  }\n\n  getResult(id) {\n    return this.list[id] ? this.list[id].result : null\n  }\n\n  onLoadProgress(e) {\n    this.dispatchEvent({\n      type: \"progress\",\n      progress: e\n    })\n  }\n\n  onLoadComplete() {\n    this.loaded = true\n    this.dispatchEvent({\n      type: \"complete\"\n    })\n  }\n\n  onLoadError(e) {\n    this.dispatchEvent({\n      type: \"error\",\n      data: e\n    })\n  }\n\n  onFileComplete(e) {\n    this.dispatchEvent({\n      type: \"fileComplete\",\n      data: e\n    })\n  }\n\n  loadManifest(manifest) {\n    if (manifest.length > 0) {\n      const list = [];\n\n      manifest.forEach((item) => {\n        if (!item.src) throw new Error(\"图片不存在，请仔细核对\" + item.id);\n\n        if (this.list[item.id]) {\n          console.warn(\"duplicate item:\", item.id);\n        } else {\n          const loader = new LoadItem(item, this)\n          this.list[item.id] = loader\n\n          if (!loader.isBase64) {\n            list.push(loader)\n          }\n\n          this.loaded = false\n        }\n      })\n\n      if (list.length > 0) {\n        const loader = new Loader({\n          minTime: 10,\n          onprogress: this.onLoadProgress.bind(this),\n          onerror: this.onLoadError.bind(this),\n          list\n        })\n        loader.init()\n\n      } else {\n        if (this.loaded) this.onLoadComplete()\n      }\n    } else {\n      if (this.loaded) this.onLoadComplete()\n    }\n  }\n}\n\nconst fileLoader = {\n  LoadItem,\n  LoadQueue,\n  loader: new LoadQueue(),\n  createLoader() {\n    return new LoadQueue\n  }\n}\n\nexport default fileLoader","/**\n * @file 加载管理器\n * 负责整个渲染流程的管理，包括资源加载、几何体初始化、事件派发、动画管理、全局状态更新等\n */\n\nimport * as THREE from 'three'\nimport * as gsap from 'gsap/all'\n\nimport { geometryPlugin1, geometryPlugin2 } from '@/three/plugins/geometry.js'\nimport FileLoader from './fileLoader.js';\n\nconst loader = FileLoader.loader\nconst createLoader = FileLoader.createLoader\n\nclass LoaderManager {\n  constructor(option) {\n    const {\n      renderer = null,\n      animationSetting = {},\n      shaderSetting = {},\n      bufferSetting = {},\n      spineSetting = {},\n      fontSetting = {},\n      uniformSetting = {\n        fps: {\n          value: 1\n        },\n        delta: {\n          value: .016\n        },\n        time: {\n          value: 0\n        },\n        resolution: {\n          value: new THREE.Vector3(1, 1, 1)\n        },\n        mouse: {\n          value: new THREE.Vector2\n        },\n        offset: {\n          value: new THREE.Vector2\n        },\n        mouseDelta: {\n          value: new THREE.Vector2(0, 0)\n        }\n      },\n    } = option || {}\n\n    this.renderer = renderer\n\n    this.animationSetting = animationSetting\n    this.shaderSetting = shaderSetting\n    this.spineSetting = spineSetting\n    this.bufferSetting = bufferSetting\n    this.uniformSetting = uniformSetting\n    this.fontSetting = fontSetting\n    this.clock = new THREE.Clock\n\n    const context = renderer.context\n    this.defaultAnimationSetting = {\n      SKIN: () => {\n        if (this.scene.autoUpdate) { this.userData.animationMixer.update(this.uniformSetting.delta.value) }\n      },\n      SPINE: () => {\n        if (this.scene && this.scene.autoUpdate) {\n          this.update(this.uniformSetting.delta.value)\n        }\n      },\n      DRAW_MASK: () => {\n        context.clearStencil(0)\n        context.clear(context.STENCIL_BUFFER_BIT)\n        context.stencilFunc(context.ALWAYS, 1, 1)\n        context.stencilOp(context.REPLACE, context.REPLACE, context.REPLACE)\n        context.colorMask(false, false, false, false)\n        context.enable(context.STENCIL_TEST)\n      },\n      BEGIN_INVERT_MASK: () => {\n        context.stencilFunc(context.NOTEQUAL, 1, 1)\n        context.stencilOp(context.KEEP, context.KEEP, context.KEEP)\n        context.colorMask(true, true, true, true)\n      },\n      BEGIN_MASK: () => {\n        context.stencilFunc(context.EQUAL, 1, 1)\n        context.stencilOp(context.KEEP, context.KEEP, context.KEEP)\n        context.colorMask(true, true, true, true)\n      },\n      STOP_MASK: () => {\n        context.disable(context.STENCIL_TEST)\n      }\n    }\n    this.textures = {}\n    this.geometrys = {}\n    this.skinnings = {}\n    this.spines = {}\n    this.fonts = {}\n    this.materialPlugins = []\n    this.geometryPlugins = [geometryPlugin1, geometryPlugin2]\n    this.objectPlugins = []\n    this.mouseDisabled = false\n    this.mouseMoved = false\n    this.mouseEnabled = true\n    this.mouseDown = false\n    this.mouseNeedsRefresh = false\n    this.mouseEnableMoveCheck = false\n    this.mouseCheckScene = null\n    this.mouseCheckCamera = null\n  }\n\n  getEventDispatcher() {\n    return THREE.EventDispatcher\n  }\n\n  static getLoader() {\n    return loader\n  }\n\n  createLoader() {\n    return createLoader()\n  }\n\n  checkGL(ctx, opt) {\n    if (!window.WebGLRenderingContext) return false;\n\n    return ctx.getContext(\"webgl\", opt) || ctx.getContext(\"experimental-webgl\", opt)\n  }\n\n  tick() {\n    this.uniformSetting.delta.value = Math.min(this.clock.getDelta(), .03)\n    this.uniformSetting.fps.value = Math.min(3, this.uniformSetting.delta.value / .0167)\n    this.uniformSetting.time.value = this.clock.getElapsedTime() % 1e4\n  }\n\n  compile(sceneOrigin, camera, target) {\n    var shaderList = [], scene = new THREE.Scene;\n\n    sceneOrigin.traverse(item => {\n      if (item.material && item.userData.initPos) {\n        item.position.set(0, 0, 0)\n        item.rotation.set(0, 0, 0)\n        item.scale.set(1, 1, 1)\n        item.userData.parent = item.parent\n        item.userData.visible = item.visible\n        item.visible = true\n        shaderList.push(item)\n      }\n    })\n\n    shaderList.forEach(item => {\n      scene.add(item)\n    })\n\n    this.renderer.render(scene, camera, target, true)\n\n    shaderList.forEach(item => {\n      item.position.copy(item.userData.initPos)\n      item.quaternion.copy(item.userData.initRot)\n      item.scale.copy(item.userData.initScl)\n      item.visible = item.userData.visible\n      item.userData.parent.add(item)\n    })\n\n    shaderList.length = 0\n  }\n\n  disableMouse() {\n    this.mouseDisabled = true\n    this.mouseEnabled = false\n  }\n\n  enableMouse() {\n    this.mouseDisabled = false,\n      this.mouseEnabled = true\n  }\n\n  lockMouse() {\n    this.mouseEnabled = false\n  }\n\n  freeMouse() {\n    this.mouseDisabled || (this.mouseEnabled = true)\n  }\n\n  getFont() {\n\n  }\n\n  createText() {\n\n  }\n\n  getSpineData() {\n\n  }\n\n  createSpine() {\n\n  }\n\n  getSkinning() {\n\n  }\n  initSkinning() {\n\n  }\n\n  initGeometry(data) {\n    data.forEach(item => {\n      if (!this.geometrys[item.id]) {\n        let buffer = new THREE.BufferGeometry;\n\n        buffer.addAttribute(\"position\", new THREE.BufferAttribute(new Float32Array(item.vertices), 3))\n\n        if (item.uvs) buffer.addAttribute(\"uv\", new THREE.BufferAttribute(new Float32Array(item.uvs), 2))\n\n        buffer.setIndex(new THREE.BufferAttribute(new (item.vertices.length > 196605 ? Uint32Array : Uint16Array)(item.indexs), 1))\n        buffer.computeVertexNormals()\n        buffer.name = item.id\n        buffer.count = 0\n\n        if (item.groups) buffer.groups = item.groups\n\n        if (item.skinWeights) {\n          let weightsArr = [],\n            indicesArr = [],\n            step = item.influencesPerVertex\n\n          for (let index = 0; index < item.skinWeights.length; index += step) {\n            weightsArr.push(item.skinWeights[index])\n            weightsArr.push(step > 1 ? item.skinWeights[index + 1] : 0)\n            weightsArr.push(step > 2 ? item.skinWeights[index + 2] : 0)\n            weightsArr.push(step > 3 ? item.skinWeights[index + 3] : 0)\n\n            indicesArr.push(item.skinIndices[index])\n            indicesArr.push(step > 1 ? item.skinIndices[index + 1] : 0)\n            indicesArr.push(step > 2 ? item.skinIndices[index + 2] : 0)\n            indicesArr.push(step > 3 ? item.skinIndices[index + 3] : 0)\n          }\n          buffer.addAttribute(\"skinIndex\", new THREE.Uint16BufferAttribute(indicesArr, 4))\n          buffer.addAttribute(\"skinWeight\", new THREE.Float32BufferAttribute(weightsArr, 4))\n        }\n\n        if (item.morph) {\n          item.morph.forEach((item, i) => {\n            buffer.addAttribute(\"morphTarget\" + i, new THREE.BufferAttribute(new Float32Array(item), 3))\n          })\n        }\n\n        this.geometryPlugins.forEach(plugin => {\n          buffer = plugin.process(buffer, item, this)\n        })\n\n        this.geometrys[item.id] = buffer\n      }\n    })\n  }\n\n  initInstancedGeometry() {\n\n  }\n\n  initModelGeometry() {\n\n  }\n\n  getUniform(item) {\n    switch (item.type) {\n      case \"f\":\n        return {\n          value: item.value,\n          type: \"f\"\n        };\n      case \"i\":\n        return {\n          value: item.value,\n          type: \"i\"\n        };\n      case \"v2\":\n        return {\n          value: (new THREE.Vector2).fromArray(item.value)\n        };\n      case \"v3\":\n        return {\n          value: (new THREE.Vector3).fromArray(item.value)\n        };\n      case \"v4\":\n        return {\n          value: (new THREE.Vector4).fromArray(item.value)\n        };\n      case \"c\":\n        return {\n          value: new THREE.Color(item.value)\n        };\n      case \"t\":\n        return {\n          value: this.getTexture(item.value),\n          src: item.value,\n          type: \"t\"\n        };\n      case \"w\":\n        return {\n          value: t.getTextTexture(item.value),\n          type: \"t\"\n        };\n      case \"b\":\n        return {\n          value: this.getBuffer(item.value).texture,\n          type: \"t\"\n        };\n      case \"u\":\n        return this.uniformSetting[item.value];\n      default:\n        return {\n          value: item.value\n        }\n    }\n  }\n\n  getMaterial(item) {\n    if (!this.shaderSetting[item.shader]) {\n      console.error(\"no shader:\", item.shader)\n      return null\n    }\n\n    const shader = this.shaderSetting[item.shader].clone();\n    shader.defines = {}\n\n    if (!isNaN(item.color)) {\n      shader.uniforms.color = {\n        value: new THREE.Color(item.color),\n        type: \"c\"\n      }\n    }\n\n    if (item.time) shader.uniforms.time = this.uniformSetting.time\n\n    if (!isNaN(item.opacity)) {\n      shader.transparent = true\n      shader.uniforms.opacity.value = item.opacity\n    }\n\n    if (item.surface) {\n      shader.defines.USE_SURFACEMAP = 1\n      shader.uniforms.surfaceMap = {\n        value: this.getTexture(item.surface),\n        src: item.value,\n        type: \"t\"\n      }\n    }\n\n    if (item.env) {\n      shader.defines.USE_ENVMAP = 1\n      shader.uniforms.envMap = {\n        value: this.getTexture(item.env),\n        src: item.value,\n        type: \"t\"\n      }\n    }\n\n    if (item.lightMap) {\n      shader.defines.USE_LIGHTMAP = 1\n      shader.uniforms.lightMap = {\n        value: this.getTexture(item.lightMap),\n        src: item.value,\n        type: \"t\"\n      }\n    }\n\n    if (item.shadowMap) {\n      shader.defines.USE_SHADOWMAP = 1\n      shader.uniforms.shadowMap = {\n        value: this.getTexture(item.shadowMap),\n        src: item.value,\n        type: \"t\"\n      }\n    }\n\n    if (item.normal) {\n      shader.extensions.derivatives = true\n      shader.defines.USE_NORMALMAP = 1\n      shader.uniforms.normalMap = {\n        value: this.getTexture(item.normal),\n        src: item.value,\n        type: \"t\"\n      }\n      shader.uniforms.normalScale = {\n        value: new THREE.Vector2(1, 1),\n        type: \"v2\"\n      }\n    }\n\n    if (item.metalness) {\n      shader.uniforms.metalness = {\n        value: item.metalness,\n        type: \"f\"\n      }\n    }\n\n    if (item.roughness) {\n      shader.uniforms.roughness = {\n        value: item.roughness,\n        type: \"f\"\n      }\n    }\n\n    if (item.fog) shader.defines.USE_FOG = 1\n\n    if (item.buffer) {\n      shader.defines.USE_TEXTURE = 1\n      shader.uniforms.diffuse = {\n        value: this.getBuffer(item.buffer).texture,\n        type: \"t\"\n      }\n    }\n\n    if (item.image) {\n      shader.defines.USE_TEXTURE = 1\n      shader.uniforms.diffuse = {\n        value: this.getTexture(item.image),\n        src: item.value,\n        type: \"t\"\n      }\n    }\n\n    if (item.noise) {\n      shader.uniforms.noise = {\n        value: this.getTexture(item.noise),\n        src: item.value,\n        type: \"t\"\n      }\n    }\n\n    if (item.blending) shader.blending = item.blending\n\n    if (item.side) shader.side = item.side\n\n    if (item.nodw) {\n      shader.depthWrite = item.nodw === 3\n      shader.depthTest = item.nodw === 2\n    }\n\n    if (item.at) shader.defines.ALPHA_TEST = 1\n\n    if (item.text) {\n      shader.defines.USE_TEXTURE = 1\n      shader.uniforms.diffuse = {\n        value: t.getTextTexture(item.text),\n        type: \"t\"\n      }\n    }\n\n    if (item.uniforms) {\n      Object.keys(item.uniforms)\n        .forEach(uniform => {\n          shader.uniforms[uniform] = this.getUniform(item.uniforms[uniform])\n        }\n        )\n    }\n\n    if (item.defines) {\n      Object.keys(item.defines)\n        .forEach(define => {\n          shader.defines[define] = item.defines[define]\n        }\n        )\n    }\n\n    this.materialPlugins.forEach(plugin => {\n      plugin.process(shader, item, this)\n    }\n    )\n\n    return shader\n  }\n\n  getGeometry(id) {\n    if (this.geometrys[id]) {\n      this.geometrys[id].count += 1\n      return this.geometrys[id]\n\n    } else {\n      console.error(\"no geometry:\" + id)\n      return null\n    }\n  }\n\n  removeGeometry(id) {\n    if (id.indexOf(\"S_\") !== 0 && this.geometrys[id]) {\n      this.geometrys[id].count -= 1\n\n      if (this.geometrys[id].count <= 0) {\n        this.geometrys[id].dispose()\n        delete this.geometrys[id]\n      }\n    }\n  }\n\n  removeTexture(id) {\n    if (this.textures[id]) {\n      this.textures[id].dispose()\n      delete this.textures[id]\n    }\n  }\n\n  refreshTexture() {\n\n  }\n\n  initTexture() {\n\n  }\n\n  getTexture(id) {\n    var nameArr = id.split(\"?\"),\n      name = nameArr[0],\n      param = nameArr[1],\n      needsUpdate = false;\n\n    if (!this.textures[name]) {\n      const texture = FileLoader.loader.getResult(name);\n      if (!texture) {\n        console.error(\"no texture:\" + name)\n        return null\n      }\n      this.textures[name] = new THREE.Texture(texture)\n      this.textures[name].name = name\n      this.textures[name].minFilter = THREE.LinearFilter\n      needsUpdate = true\n    }\n\n    const texture = this.textures[name];\n    if (param) {\n      this.setParameter(texture, param, \"wrapS\")\n      this.setParameter(texture, param, \"wrapT\")\n      this.setParameter(texture, param, \"minFilter\")\n\n      needsUpdate = true\n    }\n\n    texture.needsUpdate = needsUpdate\n\n    return texture\n  }\n\n  initBuffer(id, data) {\n    this.bufferSetting[id] = data\n  }\n\n  getBuffer(id) {\n    return this.bufferSetting[id]\n  }\n\n  addMotion(obj3D, sceneConf) {\n    sceneConf.motion.forEach(motion => {\n      const cues = [];\n\n      motion.cue.forEach(item => {\n        cues.push({\n          frame: item.frame,\n          fired: false,\n          method: this.animationSetting[item.method].bind(LoaderManager)\n        })\n      })\n\n      obj3D.userData.motions[motion.id] = {\n        id: motion.id,\n        frame: motion.frame,\n        cues\n      }\n    })\n  }\n\n  initMotion(obj3D, sceneConf) {\n    if (sceneConf.motion) {\n      obj3D.userData.currentFrame = 0\n      obj3D.userData.motions = {}\n      this.addMotion(obj3D, sceneConf)\n      obj3D.playAnimation = LoaderManager.playAnimation.bind(obj3D)\n      obj3D.stopAnimation = LoaderManager.stopAnimation.bind(obj3D)\n      obj3D.resetCue = LoaderManager.resetCue.bind(obj3D)\n      obj3D.setKeyFrame = LoaderManager.setKeyFrame.bind(obj3D)\n      obj3D.renderKeyFrame = LoaderManager.renderKeyFrame.bind(obj3D)\n    }\n  }\n\n  getSkinningMesh() { }\n\n  initCamera() { }\n\n  initObject(sceneConf, scenee, scenen) {\n    let obj3D = undefined,\n      materialList = undefined,\n      depthMaterialList = undefined;\n\n    if (sceneConf.shader) {\n      materialList = []\n      sceneConf.shader.forEach(item => {\n        const material = this.getMaterial(item);\n        if (sceneConf.type === 2) {\n          material.defines.USE_INSTANCE = 1\n        } else if (sceneConf.type === 3) {\n          material.skinning = true\n        }\n        materialList.push(material)\n      })\n\n      if (materialList.length === 1) materialList = materialList[0]\n    }\n\n    if (sceneConf.depthShader) {\n      depthMaterialList = []\n      sceneConf.depthShader.forEach(item => {\n        var material = this.getMaterial(item);\n        if (sceneConf.type === 2) {\n          material.defines.USE_INSTANCE = 1\n        } else if (sceneConf.type === 3) {\n          material.skinning = true\n        }\n        depthMaterialList.push(material)\n      })\n\n      if (depthMaterialList.length === 1) depthMaterialList = depthMaterialList[0]\n    }\n\n    switch (sceneConf.type) {\n      case 0:\n        obj3D = new THREE.Object3D;\n        break;\n      case 1:\n        obj3D = new THREE.Mesh(this.getGeometry(sceneConf.geometry), materialList);\n        break;\n      case 2:\n        obj3D = new THREE.Mesh(this.getGeometry(sceneConf.geometry), materialList)\n        obj3D.frustumCulled = false;\n        break;\n      case 3:\n        obj3D = this.getSkinningMesh(sceneConf.geometry, sceneConf.skin, materialList);\n        break;\n      case 4:\n        obj3D = this.createSpine(sceneConf, materialList);\n        break;\n      case 5:\n        obj3D = this.createText(sceneConf.text, materialList);\n        break;\n      default:\n        this.objectPlugins.forEach(item => {\n          const obj = item.process(sceneConf, materialList, this);\n          if (obj) obj3D = obj\n        })\n    }\n    if (depthMaterialList) {\n      obj3D.userData.depthMat = depthMaterialList\n    }\n\n    if (materialList) {\n      obj3D.userData.colorMat = materialList\n    }\n\n    if (sceneConf.props) {\n      sceneConf.props.forEach(item => {\n        obj3D.userData[item] = sceneConf[item]\n      })\n    }\n\n    obj3D.position.fromArray(sceneConf.position)\n    obj3D.quaternion.fromArray(sceneConf.quaternion)\n    obj3D.scale.fromArray(sceneConf.scale)\n\n    obj3D.castShadow = sceneConf.castShadow === 1\n    obj3D.receiveShadow = sceneConf.receiveShadow === 1\n    obj3D.matrixAutoUpdate = sceneConf.move === 1\n\n    obj3D.updateMatrix()\n\n    obj3D.name = sceneConf.id\n    obj3D.scene = scenen\n    obj3D.userData.initPos = obj3D.position.clone()\n    obj3D.userData.initRot = obj3D.quaternion.clone()\n    obj3D.userData.initScl = obj3D.scale.clone()\n\n    if (sceneConf.noCull === 1) {\n      obj3D.frustumCulled = false\n    }\n    if (sceneConf.animation) {\n      obj3D.userData.speed = .2 * Math.random() + .8\n      obj3D.userData.delay = 100 * Math.random()\n      obj3D.userData.range = Math.random()\n      obj3D.onBeforeRender = this.animationSetting[sceneConf.animation].bind(obj3D)\n    }\n\n    if (sceneConf.mask === 1) {\n      obj3D.onBeforeRender = this.defaultAnimationSetting.DRAW_MASK\n      obj3D.onAfterRender = this.defaultAnimationSetting.BEGIN_MASK\n    } else if (sceneConf.mask === 2) {\n      obj3D.onBeforeRender = this.defaultAnimationSetting.DRAW_MASK\n      obj3D.onAfterRender = this.defaultAnimationSetting.BEGIN_INVERT_MASK\n    } else if (sceneConf.mask === 3) {\n      obj3D.onAfterRender = this.defaultAnimationSetting.STOP_MASK\n    }\n\n    if (sceneConf.hide) obj3D.visible = false\n\n    if (sceneConf.click) {\n      obj3D.userData.mouseEnabled = true\n\n      if (this.animationSetting[sceneConf.click]) {\n        obj3D.userData.onClick = this.animationSetting[sceneConf.click].bind(obj3D)\n      } else {\n        console.error(\"no animation:\", sceneConf.click)\n      }\n\n      if (!scenen.clicks) scenen.clicks = []\n\n      if (scenen.clicks.indexOf(obj3D) === -1) scenen.clicks.push(obj3D)\n    }\n\n    if (sceneConf.mousedown) {\n      obj3D.userData.mouseEnabled = true\n\n      if (this.animationSetting[sceneConf.mousedown]) {\n        obj3D.userData.onMouseDown = this.animationSetting[sceneConf.mousedown].bind(obj3D)\n      } else {\n        console.error(\"no animation:\", sceneConf.mousedown)\n      }\n\n      if (!scenen.clicks) scenen.clicks = []\n      if (scenen.clicks.indexOf(obj3D) === -1) scenen.clicks.push(obj3D)\n    }\n\n    if (sceneConf.mousemove) {\n      obj3D.userData.mouseEnabled = true\n\n      if (this.animationSetting[sceneConf.mousemove]) {\n        obj3D.userData.onMouseMove = this.animationSetting[sceneConf.mousemove].bind(obj3D)\n      } else {\n        console.error(\"no animation:\", sceneConf.mousemove)\n      }\n\n      if (!scenen.clicks) scenen.clicks = []\n      if (scenen.clicks.indexOf(obj3D) === -1) scenen.clicks.push(obj3D)\n    }\n\n    if (sceneConf.mouseup) {\n      obj3D.userData.mouseEnabled = true\n\n      if (this.animationSetting[sceneConf.mouseup]) {\n        obj3D.userData.onMouseUp = this.animationSetting[sceneConf.mouseup].bind(obj3D)\n      } else {\n        console.error(\"no animation:\", sceneConf.mouseup)\n      }\n\n      if (!scenen.clicks) scenen.clicks = []\n      if (scenen.clicks.indexOf(obj3D) === -1) scenen.clicks.push(obj3D)\n    }\n\n\n    if (sceneConf.mousewheel) {\n      obj3D.userData.mouseEnabled = true\n\n      if (this.animationSetting[sceneConf.mousewheel]) {\n        obj3D.userData.onMouseWheel = this.animationSetting[sceneConf.mousewheel].bind(obj3D)\n      } else {\n        console.error(\"no animation:\", sceneConf.mousewheel)\n      }\n\n      if (!scenen.clicks) scenen.clicks = []\n      if (scenen.clicks.indexOf(obj3D) === -1) scenen.clicks.push(obj3D)\n    }\n\n    sceneConf.event && sceneConf.event.forEach(item => {\n      if (this.animationSetting[item.method]) {\n        // c.addEventListener(item.event, this.animationSetting[item.method].bind(obj3D))\n      } else {\n        console.log(sceneConf.id + \" \" + item.event + \" \" + item.method + \" not found\")\n      }\n    })\n\n\n    this.initMotion(obj3D, sceneConf)\n    if (!sceneConf.skip) scenee.add(obj3D)\n\n    if (sceneConf.renderOrder) {\n      obj3D.renderOrder = sceneConf.renderOrder\n    }\n\n    sceneConf.children.forEach(item => {\n      this.initObject(item, obj3D, scenen)\n    })\n\n    if (sceneConf.init) {\n      this.animationSetting[sceneConf.init].apply(obj3D, [sceneConf, this])\n    }\n  }\n\n  initShader(data) {\n    this.shaderSetting = data\n  }\n\n  initAnimation(data) {\n    this.animationSetting = data\n  }\n\n  initSpine(data) {\n    this.spineSetting = data\n  }\n\n  changeTouch(scene, camera) {\n    this.mouseCheckScene = scene\n    this.mouseCheckCamera = camera\n  }\n\n  initTouch() { }\n  disableTouch() { }\n  onDomMouseWheel() { }\n  onDomMouseMove() { }\n  onDomMouseDown() { }\n  onDomMouseUp() { }\n  onDomMouseClick() { }\n  onDomTouchEnd() { }\n  onDomTouchMove() { }\n  onDomTouchStart() { }\n  checkSceneClick() { }\n\n  get isMouseFree() {\n    return this.mouseEnabled\n  }\n\n  get uniforms() {\n    return this.uniformSetting\n  }\n\n  updateTextTexture() { }\n\n  copyGeometry() { }\n\n  getParameter(obj, key) {\n    var result = obj.match(new RegExp(\"(^|&)\" + key + \"=([^&]*)(&|$)\"));\n    return result ? result[2] : null\n  }\n\n  setParameter(target, obj, key) {\n    const current = this.getParameter(obj, key);\n    if (current) {\n      const val = target[key];\n      target[key] = isNaN(current) ? current : parseInt(current)\n      return val !== target[key]\n    }\n    return false\n  }\n\n  static resetCue(data) {\n    data.cues.forEach(item => {\n      item.fired = false\n    })\n  }\n\n  static renderKeyFrame() {\n    if (this.userData.currentMotion) {\n      const curFrame = Math.floor(this.userData.currentFrame),\n        nextFrame = Math.ceil(this.userData.currentFrame),\n        frameOffset = this.userData.currentFrame - curFrame;\n\n      if (curFrame < this.userData.previousFrame) this.resetCue(this.userData.currentMotion)\n\n      const curFrameData = this.userData.currentMotion.frame[curFrame]\n      const nextFrameData = this.userData.currentMotion.frame[nextFrame]\n\n      if (nextFrameData.pos) {\n        const cur = (new THREE.Vector3).fromArray(curFrameData.pos),\n          next = (new THREE.Vector3).fromArray(nextFrameData.pos);\n\n        this.position.copy(cur.lerp(next, frameOffset))\n      }\n\n      if (nextFrameData.rotq) {\n        const cur = (new THREE.Quaternion).fromArray(curFrameData.rotq),\n          next = (new THREE.Quaternion).fromArray(nextFrameData.rotq);\n\n        this.quaternion.copy(cur.slerp(next, frameOffset))\n      }\n\n      if (nextFrameData.scl) {\n        const cur = (new THREE.Vector3).fromArray(curFrameData.scl),\n          next = (new THREE.Vector3).fromArray(nextFrameData.scl);\n\n        this.scale.copy(cur.lerp(next, frameOffset))\n      }\n\n      if (nextFrameData.morph) {\n        this.material.uniforms.morphTargetInfluences.value.forEach((_, i) => {\n          this.material.uniforms.morphTargetInfluences.value[i] =\n            curFrameData.morph[i] + (nextFrameData.morph[i] - curFrameData.morph[i]) * frameOffset\n        })\n      }\n\n      this.userData.currentMotion.cues.forEach(item => {\n        if (item.frame <= curFrame && !item.fired) {\n          item.fired = true\n          item.method()\n        }\n      })\n\n      this.updateMatrix()\n      this.userData.previousFrame = curFrame\n    }\n  }\n\n  static setKeyFrame(motion, frame) {\n    this.userData.currentFrame = frame\n    this.userData.currentMotion = this.userData.motions[motion]\n\n    if (this.userData.currentMotion.frame[frame].pos) this.position.fromArray(this.userData.currentMotion.frame[frame].pos)\n    if (this.userData.currentMotion.frame[frame].rotq) this.quaternion.fromArray(this.userData.currentMotion.frame[frame].rotq)\n    if (this.userData.currentMotion.frame[frame].scl) this.scale.fromArray(this.userData.currentMotion.frame[frame].scl)\n\n    this.updateMatrix()\n  }\n\n  static playAnimation(key, options) {\n    const {\n      speed = 1,\n      repeat = 0,\n      delay = 0,\n      ease = gsap.Linear.easeNone,\n      reverse,\n      start,\n      end,\n      fps = 40,\n      onComplete = null,\n      onUpdate = null\n    } = options || {}\n\n    this.stopAnimation()\n    this.userData.currentMotion = this.userData.motions[key]\n    this.resetCue(this.userData.currentMotion);\n\n    const startFrame = isNaN(start) ? 0 : start,\n      endFrame = isNaN(end) ? this.userData.currentMotion.frame.length - 1 : end;\n\n    this.userData.currentFrame = startFrame\n    this.renderKeyFrame();\n\n    const duration = Math.abs(endFrame - this.userData.currentFrame) / fps / speed;\n    this.userData.tween = gsap.TweenMax.fromTo(\n      this.userData,\n      duration,\n      {\n        currentFrame: reverse ? endFrame : startFrame\n      },\n      {\n        ease,\n        overwrite: 1,\n        currentFrame: reverse ? startFrame : endFrame,\n        delay,\n        repeat,\n        onUpdate: onUpdate ? () => {\n          onUpdate()\n          this.renderKeyFrame()\n        } : () => {\n          this.renderKeyFrame()\n        },\n        onComplete\n      }\n    )\n\n    return this.userData.tween\n  }\n\n  static stopAnimation() {\n    if (this.userData.tween) {\n      this.userData.tween.kill()\n      this.userData.tween = null\n    }\n  }\n\n  preventMouseEvent(evt) {\n    evt.preventDefault()\n  }\n\n  sceneHitTest(coords, mouseCheck, camera, fnKey) {\n    const raycaster = new THREE.Raycaster;\n\n    raycaster.setFromCamera(coords, camera);\n\n    let arr = [];\n    if (mouseCheck.clicks) {\n      for (let i = mouseCheck.clicks.length - 1; i > -1; i--) {\n        if (!mouseCheck.clicks[i].visible) {\n          mouseCheck.clicks[i].updateMatrixWorld()\n          mouseCheck.clicks[i].raycast(raycaster, arr)\n        }\n\n        if (\n          mouseCheck.clicks[i].userData.mouseEnabled &&\n          mouseCheck.clicks[i].userData[fnKey] &&\n          arr.length > 0\n        ) {\n          return mouseCheck.clicks[i].userData[fnKey](arr[0])\n        }\n      }\n    }\n  }\n}\n\nexport { LoaderManager }","/**\n * @file 自定义物体类型处理插件\n */\n\nimport * as THREE from 'three'\n\nclass OP100 {\n  constructor(isPC) {\n    this.isPC = isPC\n  }\n\n  process(scene, material) {\n    if (scene.type === 100) {\n      const geometry = this.create(this.isPC ? 1500 : 200);\n      return new THREE.Mesh(geometry, material)\n    }\n    return null\n  }\n\n  create(num) {\n    let geometry = (new THREE.InstancedBufferGeometry).copy(new THREE.PlaneBufferGeometry(15, 15)),\n      offsetArr = new Float32Array(2 * num),\n      rndArr = new Float32Array(3 * num)\n\n    for (let i = 0; i < num; i++) {\n      offsetArr[2 * i] = Math.random() - .5\n      offsetArr[2 * i + 1] = Math.random() - .5\n      rndArr[3 * i] = .05 * Math.random() + .01\n      rndArr[3 * i + 1] = Math.random()\n      rndArr[3 * i + 2] = .5 * Math.random() + .5\n    }\n    geometry.addAttribute(\"offset\", new THREE.InstancedBufferAttribute(offsetArr, 2))\n    geometry.addAttribute(\"rnd\", new THREE.InstancedBufferAttribute(rndArr, 3))\n    return geometry\n  }\n}\n\nclass OP101 {\n  static process(scene, material) {\n    if (scene.type === 101) {\n      let geometry = new THREE.BufferGeometry, posArr = new Float32Array(3000)\n      for (let i = 0; i < 1000; i++) {\n        posArr[3 * i] = 1000 * Math.random() + 300\n        posArr[3 * i + 1] = 6.28 * Math.random()\n        posArr[3 * i + 2] = .005 * Math.random()\n      }\n      geometry.addAttribute(\"position\", new THREE.BufferAttribute(posArr, 3))\n      return new THREE.Points(geometry, material)\n    }\n\n    return null\n  }\n}\n\nclass OP102 {\n  static process(scene, material) {\n    if (scene.type === 102) {\n      const geometry = this.create(scene.back ? 50 : 300);\n      return new THREE.Mesh(geometry, material)\n    }\n\n    return null\n  }\n\n  static create(num) {\n    let geometry = (new THREE.InstancedBufferGeometry).copy(new THREE.PlaneBufferGeometry(17, 17)),\n      startArr = new Float32Array(3 * num),\n      ctrlArr = new Float32Array(3 * num),\n      endArr = new Float32Array(3 * num),\n      rndArr = new Float32Array(3 * num)\n\n    for (let i = 0; i < num; i++) {\n      startArr[3 * i] = 5 * (2 * Math.random() - 1) + 50\n      startArr[3 * i + 1] = 15 * (2 * Math.random() - 1) + 25\n      startArr[3 * i + 2] = 30 * (2 * Math.random() - 1)\n\n      ctrlArr[3 * i] = 100 * -(2 * Math.random() - 1) - 700\n      ctrlArr[3 * i + 1] = 30 * (2 * Math.random() - 1) + 100\n      ctrlArr[3 * i + 2] = 350 * (2 * Math.random() - 1) - 250\n\n      endArr[3 * i] = 300 * -(2 * Math.random() - 1) - 900\n      endArr[3 * i + 1] = 100 * (2 * Math.random() - 1) + 20\n      endArr[3 * i + 2] = 150 * (2 * Math.random() - 1) - 200\n\n      rndArr[3 * i] = .15 * Math.random() + .02\n      rndArr[3 * i + 1] = Math.random()\n      rndArr[3 * i + 2] = .8 * Math.random() + .2\n    }\n    geometry.addAttribute(\"start\", new THREE.InstancedBufferAttribute(startArr, 3))\n    geometry.addAttribute(\"ctrl\", new THREE.InstancedBufferAttribute(ctrlArr, 3))\n    geometry.addAttribute(\"end\", new THREE.InstancedBufferAttribute(endArr, 3))\n    geometry.addAttribute(\"rnd\", new THREE.InstancedBufferAttribute(rndArr, 3))\n\n    return geometry\n  }\n}\n\nclass OP200 {\n  static process(scene, material) {\n    if (scene.type === 200) {\n      const geometry = this.create(500, scene.dir),\n        mesh = new THREE.Mesh(geometry, material);\n\n      material.uniforms.bezierPos = {\n        value: [\n          new THREE.Vector3(1200 * scene.dir, 0, 0),\n          new THREE.Vector3(700 * scene.dir, 0, 0),\n          new THREE.Vector3(500 * scene.dir, 0, 0),\n          new THREE.Vector3(250 * scene.dir, 0, 0),\n          new THREE.Vector3(150 * scene.dir, 150 * scene.dir, 0),\n          new THREE.Vector3(0, 200 * scene.dir, 0),\n          new THREE.Vector3(-150 * scene.dir, 150 * scene.dir, 0),\n          new THREE.Vector3(-200 * scene.dir, 0, 0),\n          new THREE.Vector3(-200 * scene.dir, 0, 0)\n        ]\n      }\n      material.defines.NUM_SEGMENT = material.uniforms.bezierPos.value.length\n\n      return mesh\n    }\n\n    return null\n  }\n\n  static create(num, dir) {\n    let geometry = (new THREE.InstancedBufferGeometry).copy(new THREE.PlaneBufferGeometry(10, 10)),\n      startArr = new Float32Array(3 * num),\n      endArr = (new Float32Array(3 * num), new Float32Array(3 * num)),\n      rndArr = new Float32Array(3 * num)\n\n    for (let i = 0; i < num; i++) {\n      startArr[3 * i] = 100 * Math.random() - 50\n      startArr[3 * i + 1] = 50 * Math.random() - 25\n      startArr[3 * i + 2] = 50 * Math.random() - 25\n\n      endArr[3 * i] = 100 * Math.random() - 50\n      endArr[3 * i + 1] = 50 * Math.random() - 25\n      endArr[3 * i + 2] = 50 * Math.random() - 25\n\n      rndArr[3 * i] = .15 * Math.random() + .1\n      rndArr[3 * i + 1] = Math.random()\n      rndArr[3 * i + 2] = .6 * Math.random() + .4\n    }\n\n    geometry.addAttribute(\"start\", new THREE.InstancedBufferAttribute(startArr, 3))\n    geometry.addAttribute(\"end\", new THREE.InstancedBufferAttribute(endArr, 3))\n    geometry.addAttribute(\"rnd\", new THREE.InstancedBufferAttribute(rndArr, 3))\n\n    return geometry\n  }\n}\n\nexport {\n  OP100,\n  OP101,\n  OP102,\n  OP200\n}","<template>\n  <div class=\"effect-wrap\">\n    <canvas id=\"webglCanvas\" ref=\"webglCanvas\"></canvas>\n  </div>\n</template>\n\n<script>\n// 引入threejs和gsap\nimport * as THREE from \"three\";\nimport * as gsap from \"gsap/all\";\n\n/**\n * 动画相关配置\n * 定义了加载、页面状态切换和场景物体触发等事件需要播放的动画和提供的播放方法\n */\nimport animationSetting from \"@/config/animationSetting\";\n\n/**\n * 着色器材质配置\n * 配置了使用自定义shader渲染的材质列表\n */\nimport shaderSetting from \"@/config/shaderSetting\";\n\n/**\n * 全局状态\n * uniform名字应该是来源于three和glsl编程的概念\n */\nimport uniformSetting from \"@/config/uniformSetting\";\n\n/**\n * 场景配置文件，推测是由3d建模软件插件导出，包含了几何体和场景的配置\n * 如 id(3js中Object Name用到)、类型、生命周期事件、位置、透明度、着色器、渲染顺序等\n */\nimport sceneSetting from \"@/config/sceneSetting.json\";\n\n/**\n * 资源加载清单\n * 根据场景和类型做了分类，可加载的包括材质图、spine动画(本demo未用到)等\n */\nimport MANIFEST from \"@/config/MANIFEST.js\";\n\n/**\n * loading舞台和main舞台类\n * 包含了舞台的初始化、相机设置、渲染方法等\n */\nimport { LoadingStage, MainStage } from \"@/three/Stage.js\";\n\n/**\n * 加载管理器\n * 负责整个渲染流程的管理，包括资源加载、几何体初始化、事件派发、动画管理、全局状态更新等\n */\nimport { LoaderManager } from \"@/utils/loaderManager\";\n\n// 自定义物体类型处理插件，在加载管理器的initObject方法中被调用\nimport { OP100, OP101, OP102, OP200 } from \"@/three/plugins/object.js\";\n\n// 性能监控插件\nimport Stats from \"stats.js\";\n\nlet __DPR = Math.max(1.5, Math.min(2.5, window.devicePixelRatio)), // 屏幕dpr\n  lm = undefined, // 加载管理器实例\n  renderer = undefined, // Threejs 渲染器\n  loadingStage = undefined, // loading舞台实例\n  mainStage = new MainStage(), // main舞台实例\n  fileLoader = LoaderManager.getLoader(), // 文件加载器\n  sceneIndex = undefined, // main场景\n  sceneLoading = undefined, // loading场景\n  camera = new THREE.PerspectiveCamera(32, 1, 1, 1e5); // 主相机\n\n// 设置相机位置居中，距离1500\ncamera.position.set(0, 0, 1500);\n\n// 创建缓冲，用于在绘制前添加特效\nconst target = new THREE.WebGLRenderTarget(1, 1, {\n  format: THREE.RGBFormat,\n});\n\n// 背景缓冲，疑似是特效图层\nconst BG_BUFFER = new THREE.WebGLRenderTarget(1, 1, {\n  format: THREE.RGBFormat,\n});\n\n// 根据debug开关控制是否显示性能监控\nconst DEBUG = location.search.indexOf(\"debug=1\") > -1;\nlet stats = null;\nif (DEBUG) {\n  stats = new Stats();\n  stats.showPanel(0); // 0: fps, 1: ms, 2: mb, 3+: custom\n  document.body.appendChild(stats.dom);\n}\n\nexport default {\n  name: \"reservationEffect\",\n  created() {\n    this.renderRequestID = -1;\n    this.inited = false;\n    this.progress = 0;\n    this.loaded = false;\n    this.played = false;\n  },\n  beforeDestroy() {\n    // 销毁前的清理工作\n    window.cancelAnimationFrame(this.renderRequestID);\n    window.removeEventListener(\"mousemove\", this.onMouseMove);\n    fileLoader.removeEventListener(\"loadProgress\", this.onLoadProgress);\n    fileLoader.removeEventListener(\"error\", this.onLoadError);\n    fileLoader.removeEventListener(\"complete\", this.onLoadComplete);\n    // fileLoader.removeAll();\n    try {\n      renderer && renderer.forceContextLoss();\n    } catch (err) {\n      console.log(err);\n    }\n  },\n  props: {\n    // 视口宽高\n    width: {\n      type: Number,\n      default: undefined,\n    },\n    height: {\n      type: Number,\n      default: undefined,\n    },\n\n    // 页面类型 原始项目中会切换页面，渲染上会有所区别\n    type: {\n      type: String,\n      default: \"index\",\n    },\n\n    // 是否显示3d图层 原始项目会有翻页，可能需要隐藏3d图层\n    display: {\n      type: Boolean,\n      default: true,\n    },\n\n    // 是否为PC 需要针对不同设备做出区分 如摄影机和粒子数量等\n    isPC: {\n      type: Boolean,\n      default: true,\n    },\n\n    // 加载logo 原始项目会有多语言需求，需要加载不同语言的logo\n    loadingLogo: {\n      type: String,\n      default: require(\"@/assets/textures/loadingLogo.png\"),\n    },\n\n    // 猜测为纵向滚动条位置，用于实现视差效果等\n    y: {\n      type: Number,\n      default: 0,\n    },\n  },\n  watch: {\n    // 根据页面类型执行切页过渡效果\n    type() {\n      sceneIndex && sceneIndex.change && sceneIndex.change(this.type, this.y);\n    },\n\n    // 宽高发生变化后标记需要resize\n    width() {\n      this.needResize = true;\n    },\n    height() {\n      this.needResize = true;\n    },\n\n    // 滚动条变化时需要绘制视差效果\n    y() {\n      sceneIndex && sceneIndex.scroll && sceneIndex.scroll(this.y);\n    },\n\n    // 猜测为fallback，当前页不支持webgl仍回报加载完成\n    isWebGLSupport() {\n      if (!this.isWebGLSupport) {\n        setTimeout(() => {\n          this.$emit(\"introComplete\");\n        });\n      }\n    },\n  },\n  computed: {\n    // 原始项目海外版包含内页，猜测为海外版需要区分背景图\n    staticBG() {\n      return \"index\" === this.type ? this.indexBG : this.innerBG;\n    },\n  },\n  mounted() {\n    console.log(0, \"mounted\", \"组件挂载 \");\n    // 组件挂载后开始初始化资源加载清单\n    this.prepareLoadingManifest();\n  },\n  data() {\n    return {\n      needResize: false, // 是否需要resize\n      isWebGLSupport: true, // 是否支持webgl\n      indexBG: require(\"@/assets/textures/indexStatic.jpg\"), // 首页背景\n      innerBG: require(\"@/assets/textures/innerStatic.jpg\"), // 内页背景\n    };\n  },\n  methods: {\n    // 添加文件加载器事件监听\n    addLoadListeners() {\n      fileLoader.addEventListener(\"progress\", this.onLoadProgress);\n      fileLoader.addEventListener(\"error\", this.onLoadError);\n      fileLoader.addEventListener(\"complete\", this.onLoadComplete);\n    },\n    // 清除文件加载器事件监听\n    clearLoadListeners() {\n      fileLoader.removeEventListener(\"progress\", this.onLoadProgress);\n      fileLoader.removeEventListener(\"error\", this.onLoadError);\n      fileLoader.removeEventListener(\"complete\", this.onLoadComplete);\n      fileLoader.removeEventListener(\"complete\", this.onPrepareComplete);\n    },\n    onLoadProgress(evt) {\n      this.progress = evt.progress / 100;\n      this.$emit(\"loadProgress\", evt.progress);\n    },\n    onLoadError() {\n      this.clearLoadListeners();\n      this.isWebGLSupport = false;\n      this.$emit(\"loadComplete\");\n    },\n    // main场景资源加载完成\n    onLoadComplete() {\n      console.log(6, \"onLoadComplete\", \"main场景资源加载完成\");\n      this.clearLoadListeners(); // 加载完成后移除事件监听\n      this.build3D(); // 构建场景\n      this.$emit(\"loadComplete\");\n      this.loaded = true; // 标记文件加载完成\n    },\n    // loading场景资源加载完成\n    onPrepareComplete(evt) {\n      console.log(2, \"onPrepareComplete\", \"loading场景资源加载完成\");\n      this.clearLoadListeners();\n      this.initRenderPlayer();\n      this.prepareMainManifest();\n      evt && this.buildLoading();\n      this.onResize();\n      this.render3D();\n    },\n    // 准备loading场景资源清单\n    prepareLoadingManifest() {\n      console.log(1, \"prepareLoadingManifest\", \"准备loading场景资源清单\");\n      fileLoader.addEventListener(\"error\", this.onLoadError);\n      fileLoader.addEventListener(\"complete\", this.onPrepareComplete);\n      fileLoader.loadManifest([\n        {\n          src: this.loadingLogo,\n          id: \"loadingLogo\",\n          type: \"image\",\n        },\n        ...MANIFEST.LOADING_MANIFEST,\n      ]);\n    },\n    // 准备main场景资源清单\n    prepareMainManifest() {\n      console.log(4, \"prepareMainManifest\", \"准备main场景资源清单\");\n      this.clearLoadListeners();\n      this.addLoadListeners();\n      fileLoader.loadManifest(MANIFEST.INDEX_MANIFEST);\n    },\n    // 构建main场景\n    build3D() {\n      console.log(7, \"build3D\", \"构建main场景\");\n      // 加载管理器初始化main场景物体\n      lm.initObject(sceneSetting.sceneIndexPC, sceneIndex, sceneIndex);\n      // 如果为移动设备重设一次尺寸\n      if (!this.isPC) sceneIndex.resize();\n      // 重设视差和滚动效果\n      sceneIndex.change(this.type, this.y, 0);\n      sceneIndex.scroll(this.y);\n      // 编译特效\n      lm.compile(sceneIndex, camera, target);\n    },\n    // 构建loading场景\n    buildLoading() {\n      console.log(5, \"buildLoading\", \"构建loading场景\");\n      // 加载管理器初始化loading场景物体\n      lm.initObject(sceneSetting.sceneLoading, sceneLoading, sceneLoading);\n      // 播放loading场景入场动画(logo)\n      sceneLoading.intro();\n    },\n    // 初始化渲染器\n    initRenderPlayer() {\n      console.log(3, \"initRenderPlayer\", \"初始化渲染器\");\n      try {\n        // 初始化webgl渲染器\n        renderer = new THREE.WebGLRenderer({\n          canvas: this.$refs.webglCanvas,\n        });\n\n        renderer.setPixelRatio(__DPR);\n        renderer.autoClear = false;\n        renderer.setClearColor(0, 0);\n      } catch (err) {\n        console.log(err);\n        this.isWebGLSupport = false;\n        return;\n      }\n\n      // 初始化加载管理器，传入相关配置\n      lm = new LoaderManager({\n        renderer: renderer,\n        animationSetting: animationSetting,\n        uniformSetting: uniformSetting,\n        shaderSetting: shaderSetting,\n        spineSetting: MANIFEST.SPINE_MANIFEST,\n      });\n\n      // 传入自定义物体类型处理插件\n      lm.objectPlugins.push(new OP100(this.isPC));\n      lm.objectPlugins.push(OP101);\n      lm.objectPlugins.push(OP102);\n      lm.objectPlugins.push(OP200);\n\n      // 初始化loading舞台\n      loadingStage = new LoadingStage(renderer, target);\n\n      // 初始化几何体\n      lm.initGeometry(sceneSetting.geometry);\n      // 初始化背景缓冲\n      lm.initBuffer(\"BG_BUFFER\", BG_BUFFER);\n\n      // 初始化loading场景\n      sceneLoading = new THREE.Scene();\n      // 初始化main场景\n      sceneIndex = new THREE.Scene();\n\n      // 当前为首页时默认隐藏main场景，作用未知\n      sceneIndex.visible = this.type !== \"index\";\n      // BG_BUFFER挂载到main场景对象上\n      sceneIndex.bgBuffer = BG_BUFFER;\n\n      // 根据设备设置场景z轴距离\n      sceneLoading.position.z = this.isPC ? -300 : -600;\n      sceneIndex.position.z = this.isPC ? 0 : -80;\n\n      // PC端监听鼠标移动\n      if (this.isPC) {\n        window.addEventListener(\"mousemove\", this.onMouseMove);\n      }\n    },\n    // 鼠标移动处理\n    onMouseMove(evt) {\n      // 根据鼠标相对于窗口尺寸的比例计算视角偏移 实现视差效果\n      if (sceneIndex && sceneIndex.move) {\n        sceneIndex.move(evt.clientX / this.width, evt.clientY / this.height);\n      }\n    },\n    // 窗口尺寸变化处理\n    onResize() {\n      if (renderer) {\n        // 计算当前窗口宽高，修正浏览器缩放的影响\n        const scaleFix = Math.min(1, window.devicePixelRatio),\n          w = scaleFix * (this.width || window.innerWidth),\n          h = scaleFix * (this.height || window.innerHeight);\n\n        camera.aspect = w / h; // 设置视锥体长宽比\n        camera.zoom = Math.max(1, w / h / (16 / 9)); // 设置缩放比例\n        camera.updateProjectionMatrix(); // 更新投影矩阵，应用调整\n\n        renderer.setSize(w, h); // 设置渲染器尺寸\n        loadingStage.setResolution(w * __DPR, h * __DPR); // 设置loading舞台尺寸\n        target.setSize(w * __DPR, h * __DPR); // 设置缓冲尺寸\n        BG_BUFFER.setSize(w * __DPR, h * __DPR); // 设置背景缓冲尺寸\n        uniformSetting.resolution.value.set(w * __DPR, h * __DPR, __DPR); // 设置全局变量里的分辨率\n      }\n    },\n    // 每帧被执行的渲染方法\n    render3D() {\n      stats && stats.begin(); // 开始记录性能数据\n\n      // 需要重设尺寸时进行相应操作\n      if (this.needResize) {\n        this.onResize();\n        this.needResize = false;\n      }\n\n      lm.tick(); // 执行加载管理器的tick 更新帧生成时间 fps 程序运行时间\n\n      if (this.display) {\n        // 未开始播放时根据当前实例的进度设置进度变量\n        if (!this.played) {\n          uniformSetting.progress.value +=\n            0.03 * (0.8 * this.progress - uniformSetting.progress.value);\n        }\n\n        // 进度大于0.75且已加载未播放\n        if (\n          uniformSetting.progress.value > 0.75 &&\n          this.loaded &&\n          !this.played\n        ) {\n          this.played = true; // 设置播放状态为true\n          sceneLoading.outro(); // loading场景出场\n          // main场景进场 回调中回报加载完成\n          sceneIndex.intro(() => {\n            this.$emit(\"introComplete\");\n          });\n\n          // 延迟0.3s，在1.5s内设置loadingStage.progress为1.2 进入正常渲染循环\n          gsap.TweenMax.to(loadingStage.progress, 1.5, {\n            value: 1.2,\n            delay: 0.3,\n          });\n        }\n\n        // main场景可见时\n        if (sceneIndex.visible) {\n          // 把main场景绘制到缓冲区\n          renderer.render(sceneIndex, camera, target, true);\n\n          if (loadingStage.progress.value === 1.2) {\n            /* \n             当loadingStage.progress为1.2时(正常渲染循环)\n             在每次帧循环中渲染main场景\n            */\n            mainStage.render(renderer, target, null, true);\n          } else {\n            // 即将进入正常渲染循环时清空loading舞台\n            loadingStage.render(null, true);\n          }\n        }\n\n        // loadind场景可见时\n        if (sceneLoading.visible) {\n          renderer.render(sceneLoading, camera, null, !sceneIndex.visible);\n        }\n      }\n\n      stats && stats.end(); // 结束记录性能数据\n\n      // 重新请求帧执行，完成一次帧循环\n      this.renderRequestID = window.requestAnimationFrame(this.render3D);\n    },\n  },\n};\n</script>\n\n<style lang=\"less\">\n.effect-wrap {\n  position: absolute !important;\n  top: 0 !important;\n  left: 0 !important;\n\n  width: 100% !important;\n  height: 100% !important;\n\n  canvas {\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100% !important;\n    height: 100% !important;\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=52e46cfb&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\" @scroll=\"handleScroll\">\n    <reservation-effect\n      :type=\"effectType\"\n      :width=\"viewportSize.width\"\n      :height=\"viewportSize.height\"\n      :y=\"scrollV\"\n    ></reservation-effect>\n    <div class=\"content\"></div>\n  </div>\n</template>\n\n<script>\nimport reservationEffect from \"./components/main.vue\";\n\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      effectType: \"index\",\n      scrollV: 0,\n      // 视口尺寸\n      viewportSize: {\n        width: undefined,\n        height: undefined,\n      },\n    };\n  },\n  methods: {\n    onResize() {\n      this.viewportSize.height = window.innerHeight;\n      this.viewportSize.width = window.innerWidth;\n    },\n    handleScroll(evt) {\n      const { scrollTop = 0 } = evt.target;\n      if (scrollTop >= 0) {\n        if (scrollTop > 0.75 * this.viewportSize.height) {\n          this.effectType = \"inner\";\n        } else {\n          this.effectType = \"index\";\n          this.scrollV = parseInt(\"-\" + scrollTop, 10);\n        }\n      }\n    },\n  },\n  created() {\n    // 页面打开时监听resize事件并设置视口尺寸\n    window.addEventListener(\"resize\", this.onResize);\n    this.onResize();\n  },\n  components: {\n    reservationEffect,\n  },\n};\n</script>\n\n<style lang=\"less\">\nhtml,\nbody {\n  background-color: #000;\n  margin: 0;\n  padding: 0;\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: transparent;\n  user-select: none;\n  -webkit-overflow-scrolling: touch;\n  width: 100%;\n  height: 100%;\n  overflow: hidden !important;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  overflow-y: auto;\n  &::-webkit-scrollbar {\n    width: 0;\n    background: transparent;\n  }\n}\n\n.content {\n  position: relative;\n  height: 200vh;\n  z-index: 10;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=48e0519a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = true\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","module.exports = __webpack_public_path__ + \"img/line.a7183f43.png\";","module.exports = \"varying vec2 vUv;\\nuniform sampler2D bg;\\nuniform vec2 resolution;\\nuniform sampler2D diffuse;\\nuniform float time;\\nvec3 fun1(vec3 param1, vec3 param2){\\n    vec3 param18 = 1. - param1;\\n    vec3 param17 = 1. - param2;\\n    vec3 param19 = 2. * param18;\\n    vec3 param14 = param2 * param1;\\n    vec3 param20 = param17 * param19;\\n    vec3 param16 = param14 * 2.;\\n    vec3 param21 = 1. - param20;\\n    vec3 param23 = step(0.5, param1);\\n    vec3 param24 = mix(param16, param21, param23);\\n    return param24;\\n}\\n\\n\\nvoid main(){\\n    vec2 param7 = gl_FragCoord.xy / resolution;\\n    vec4 param12 = texture2D(diffuse, vUv);\\n    vec4 param8 = texture2D(bg, param7);\\n    float param28 = time * 12.;\\n    float param29 = sin(param28);\\n    float param31 = param29 * .1;\\n    float param33 = param31 + 1.;\\n    float param35 = param33 * max(0.,param12.a-.05);//smoothstep(.05,.4,param12.a);\\n    vec3 param25 = fun1(param12.rgb, param8.rgb);\\n    vec3 param36 = mix(param8.rgb, param25, param35);\\n    vec4 param38 = vec4(param36, param8.a);\\n    gl_FragColor = param38;\\n}\\n\";","module.exports = \"void main(){\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.);\\n}\\n\";","module.exports = \"varying float vAlpha;\\nuniform sampler2D diffuse;\\nvarying vec2 vUv;\\nvoid main(){\\n  gl_FragColor = texture2D(diffuse,vUv);\\n  gl_FragColor.a *= vAlpha;\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/planet_faguang.c95281d9.png\";","module.exports = \"\\nuniform vec3 points[SEGMENT+1];\\nuniform float time;\\nattribute float id;\\n\\nvarying vec3 vUv;\\n\\nvoid main(){\\n  const float numSegment = float(SEGMENT);\\n  float percent = id * numSegment;\\n  float scale = 1.+.5*sin(time + id*12.);\\n  vec3 start = points[int(percent)];\\n\\n  vUv = vec3(uv,percent);\\n\\n  vec3 newPosition = start+position*scale;//-C*position.y;\\n\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition,1.);\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/train_rocks.3d565377.png\";","module.exports = \"varying vec3 vUv;\\nuniform float opacity;\\nuniform vec3 colorDark;\\nuniform vec3 colorLight;\\n\\nvoid main(){\\n  float dist = .5-length(vUv.xy - .5);\\n  float alpha = smoothstep(0.1,.3,dist);\\n  float param26 = (alpha) * smoothstep(0.,.3,sin(3.14*opacity));;\\n  vec4 param27 = vec4(mix(colorDark,colorLight,dist), param26*.5);\\n  gl_FragColor = param27;\\n}\\n\";","module.exports = \"uniform vec3 points[SEGMENT+1];\\nvarying vec3 vUv;\\nvarying vec3 vNormal;\\n\\nvoid main(){\\n\\n  const float numSegment = float(SEGMENT);\\n  float percent = uv.y * numSegment;\\n  vec3 start = points[int(percent)];\\n\\n  vUv = vec3(uv, percent);\\n\\n  vec3 newPosition = start;//-C*position.y;\\n\\n  vec4 mvPosition = modelViewMatrix * vec4(newPosition,1.);\\n\\n  mvPosition.xy += position.xy;\\n\\n  vNormal = normalMatrix * normal;\\n  \\n  gl_Position = projectionMatrix * mvPosition;\\n}\\n\";","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=less&\"","module.exports = \"uniform float time;\\nvarying float vAlpha;\\nvoid main(){\\n  float angle = time*position.z+position.y;\\n  float x = sin(angle)*position.x;\\n  float y = cos(angle)*position.x;\\n  vAlpha = sin(angle*350.)*.3+.7;\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(x,y,0.,1.);\\n  gl_PointSize = 3.;\\n}\\n\";","module.exports = \"varying vec3 vUv;\\nvoid main(){\\n  vUv = vec3(uv,position.z);\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.);\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/innerStatic.9dbcb7ae.jpg\";","module.exports = \"#ifdef USE_TEXTURE\\n  uniform sampler2D diffuse;\\n  varying vec2 vUv;\\n#else\\n  uniform vec3 color;\\n#endif\\n\\nuniform float opacity;\\n\\nvoid main(){\\n  #ifdef USE_TEXTURE\\n    gl_FragColor = texture2D(diffuse,vUv);\\n  #else\\n    gl_FragColor = vec4(color,1.);\\n  #endif\\n\\n  #ifdef ALPHA_TEST\\n      if(gl_FragColor.a<.5){\\n    discard;\\n}\\n\\n  #endif\\n  gl_FragColor.a*=opacity;\\n\\n}\\n\\n\";","module.exports = \"varying vec2 vUv2;\\nvarying vec2 vUv;\\nuniform float time;\\nuniform float speed;\\nuniform sampler2D noise;\\nuniform vec3 dir;\\nuniform sampler2D diffuse;\\nuniform vec3 color;\\nuniform float opacity;\\nfloat fun1(){\\n    float param5 = time * speed;\\n    return param5;\\n}\\n\\nvec2 fun2(vec2 param1, vec2 param2){\\n    vec2 param9 = vUv2 * param1;\\n    float param6 = fun1();\\n    vec2 param11 = param6 * param2;\\n    vec2 param12 = param9 + param11;\\n    return param12;\\n}\\n\\n\\nvoid main(){\\n    vec3 param16 = normalize(dir);\\n    vec2 param19 = param16.xy * .2;\\n    vec4 param27 = texture2D(diffuse, vUv);\\n    vec2 param13 = fun2(vec2(1.,2.), vec2(1.,.5));\\n    vec2 param20 = param13 + param19;\\n    vec4 param21 = texture2D(noise, param20);\\n    float param30 = dot(param27.rgb, color);\\n    float param32 = param30 * param27.a;\\n    float param24 = param21.r * .3;\\n    float param33 = saturate(param32);\\n    float param34 = param24 * param33;\\n    vec3 param36 = param34 + param27.rgb;\\n    vec4 param38 = vec4(param36+opacity*color, param27.a);\\n    gl_FragColor = param38;\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/rocks2_qin1.433ade07.png\";","module.exports = \"uniform float time;\\nuniform vec3 range;\\n\\nvarying float vAlpha;\\nvarying vec2 vUv;\\n\\nattribute vec2 offset;\\nattribute vec3 rnd;\\n\\nvec2 fun1(vec2 param1, float param2){\\n    float param5 = sin(param2);\\n    float param4 = cos(param2);\\n    float param7 = param5 * -1.;\\n    mat2 param8 = mat2(param4, param7, param5, param4);\\n    vec2 param10 = param8 * param1;\\n    return param10;\\n}\\n\\nvoid main(){\\n  \\n\\n  float now = fract(time*rnd.x+rnd.y);\\n\\n  vUv = uv;\\n  vUv = vec2((vUv.y+floor(rnd.y*5.))/5.,vUv.x);\\n\\n  vAlpha = smoothstep(0.,.5,sin(now*3.14))*rnd.z;\\n  float size = smoothstep(0.5,1.,sin(now*15.+rnd.z));\\n  vec3 newPosition = vec3(offset.x*range.x,offset.y*range.y+now*150., now*200.)+vec3(fun1(position.xy,now*15.)*rnd.z*size,0.);\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition,1.)  ;\\n}\\n\";","module.exports = \"varying vec2 vUv;\\nuniform sampler2D diffuse;\\nuniform float time;\\nvoid main(){\\n    vec4 param3 = texture2D(diffuse, vUv);\\n    float param7 = param3.r * 6.283185307;\\n    float param10 = 3. * time;\\n    float param11 = param7 + param10;\\n    float param12 = sin(param11);\\n    float param13 = (param12 + 1.) * .5;\\n    vec3 param14 = param3.bbb * param13;\\n    vec3 param15 = param3.bbb + param14;\\n    vec4 param17 = vec4(param15, 1.);\\n    gl_FragColor = param17;\\n}\";","module.exports = \"#ifdef USE_TEXTURE\\n  varying vec2 vUv;\\n#endif\\n#ifdef USE_INSTANCE\\n  attribute vec4 rotation;\\n  attribute vec3 offset;\\n  attribute vec3 scale;\\n#endif\\n#include <skinning_pars_vertex> // 包含蒙皮动画所需要的定义\\n\\n#ifdef USE_MORPH\\n  attribute vec3 morphTarget0;\\n  attribute vec3 morphTarget1;\\n  attribute vec3 morphTarget2;\\n  attribute vec3 morphTarget3;\\n  uniform float morphTargetInfluences[ 4 ];\\n#endif\\n\\nvoid main(){\\n    #ifdef USE_TEXTURE\\n      vUv = uv;\\n    #endif\\n\\n    #ifdef USE_INSTANCE\\n      vec3 scaledPosition = position*scale;\\n      vec3 transformed = (scaledPosition + 2.0 * cross(rotation.xyz, cross(rotation.xyz, scaledPosition) + rotation.w * scaledPosition))+offset;\\n    #else\\n      #include <beginnormal_vertex> // 开始法线处理\\n      #include <skinbase_vertex> // 骨骼蒙皮基本运算\\n      #include <skinnormal_vertex> // 骨骼蒙皮法线运算\\n      #include <defaultnormal_vertex> // 默认法线处理\\n\\n      #include <begin_vertex>\\n      \\n      #ifdef USE_MORPH\\n        transformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n        transformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n        transformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n        transformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n      #endif\\n      #include <skinning_vertex> // 蒙皮顶点处理\\n    #endif\\n    #include <project_vertex> // 投影顶点运算\\n}\\n\";","module.exports = \"attribute vec3 start;\\nattribute vec3 end;\\nattribute vec3 rnd;\\n\\nuniform vec3 bezierPos[NUM_SEGMENT];\\n\\nuniform float time;\\nuniform float progress;\\nuniform float ending;\\n\\nvarying float vAlpha;\\nvarying vec2 vUv;\\n\\nvec3 quadraticBezier(vec3 a,vec3 b,vec3 c,float t){\\n  float s = 1.-t;\\n  vec3 q = s*s*a+2.*s*t*b+t*t*c;\\n  return q;\\n}\\n\\nvec2 fun1(vec2 param1, float param2){\\n    float param5 = sin(param2);\\n    float param4 = cos(param2);\\n    float param7 = param5 * -1.;\\n    mat2 param8 = mat2(param4, param7, param5, param4);\\n    vec2 param10 = param8 * param1;\\n    return param10;\\n}\\n\\n\\nvoid main(){\\n \\n  const float numSegment = float(NUM_SEGMENT)-2.;\\n\\n  float nowTime = fract(time*rnd.x+start.y);\\n\\n  int i0 = int(nowTime*numSegment);\\n  int i1 = i0+1;\\n  int i2 = i0+2;\\n\\n  float p0 = float(i0)/numSegment;\\t\\t\\t\\t\\n\\tvec3 sp = mix(bezierPos[i0],bezierPos[i1],.5);\\n\\tvec3 ep = mix(bezierPos[i1],bezierPos[i2],.5);\\n\\tvec3 np = quadraticBezier(sp,bezierPos[i1],ep,(nowTime-p0)*numSegment);\\n\\n  vec3 newPosition = np + +vec3(fun1(position.xy,nowTime*15.)*rnd.z,0.)+mix(start,end,sin(nowTime*6.)*.5+.5)*mix(.2,1.5,smoothstep(.3,1.,nowTime+rnd.y));\\n\\n  \\n  vUv = fun1(uv - .5, start.z+nowTime)+.5;\\n  vUv = vec2((vUv.y+floor(rnd.y*5.))/5.,vUv.x);\\n  vAlpha = smoothstep(0.,.1,sin(nowTime*3.14))*rnd.z*(1.-smoothstep(progress-.3,progress,nowTime))*(smoothstep(ending-.3,ending,nowTime));\\n\\n  vec4 mvPosition = modelViewMatrix * vec4(newPosition,1.);\\n  gl_Position = projectionMatrix * mvPosition;\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/light3.d7e04141.png\";","module.exports = \"varying vec2 vUv;\\nuniform sampler2D diffuse;\\nuniform float time;\\nvoid main(){\\n    vec4 param3 = texture2D(diffuse, vUv);\\n    float param7 = param3.r * 6.283185307;\\n    float param10 = 3. * time;\\n    float param11 = param7 + param10;\\n    float param12 = sin(param11);\\n    float param13 = (param12 + 1.) * .3;\\n    vec3 param14 = param3.bbb * param13;\\n    vec3 param15 = param3.bbb - param14;\\n    vec4 param17 = vec4(param15, 1.);\\n    gl_FragColor = param17;\\n}\";","module.exports = __webpack_public_path__ + \"img/planet.9d3fe6d1.png\";","module.exports = \"uniform sampler2D diffuse;\\nuniform vec2 resolution;\\nuniform float progress;\\nuniform vec2 center;\\nuniform vec3 highlight;\\n\\t\\t\\t\\n#define FXAA_REDUCE_MIN   (1.0/128.0)\\n#define FXAA_REDUCE_MUL   (1.0/8.0)\\n#define FXAA_SPAN_MAX     8.0\\n\\n\\n\\nvoid main() {\\n\\tvec2 uv = gl_FragCoord.xy  / resolution;\\n\\n\\tvec2 scale = vec2(1.,resolution.y/resolution.x);\\n\\n  vec2 uv2 = (uv - .5)*scale+.5;\\n\\n\\n  float dist = distance(uv2 ,center);\\n\\n\\n\\n  vec4 color = texture2D(diffuse,uv);\\n  vec4 color2 = color;\\n  \\n  if(dist<= progress+.2&&dist>=progress-.2){\\n\\n    float diff = dist - progress; \\n\\n    float scaleDiff = (1.0 - pow(abs(diff * 5.), 0.4)); \\n\\n    float diffTime = diff * scaleDiff;\\n\\n    vec2 diffUv = (normalize(uv - center)-.5)*scale+.5;\\n\\n    uv += ((diffUv * diffTime) / (progress * dist * 10.0))*smoothstep(0.0,.15,dist);\\n\\n    color = texture2D(diffuse, uv);\\n\\n    color.rgb += (highlight * scaleDiff) / (progress * dist * 10.0);\\n  }\\n\\n  gl_FragColor = color;\\n\\tgl_FragColor.rgb = mix(vec3(0.), gl_FragColor.rgb , smoothstep(.1,.4,progress));\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/light1.b04e4ca9.png\";","module.exports = __webpack_public_path__ + \"img/topLight.55e4a49a.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"varying vec2 vUv;\\nuniform float time;\\nuniform float speed;\\nuniform sampler2D diffuse;\\nuniform sampler2D flowMap;\\nuniform sampler2D noise;\\nfloat fun1(){\\n    float param9 = time * speed;\\n    return param9;\\n}\\n\\nvec2 fun2(vec2 param1, vec2 param2){\\n    vec2 param13 = vUv * param1;\\n    float param10 = fun1();\\n    vec2 param15 = param10 * param2;\\n    vec2 param16 = param13 + param15;\\n    return param16;\\n}\\n\\n\\nvoid main(){\\n    vec2 param28 = fun2(vec2(4.), vec2(1.,.5));\\n    vec4 param43 = texture2D(flowMap, param28);\\n    vec2 param17 = fun2(vec2(7.), vec2(-1.,.2));\\n    vec4 param46 = texture2D(flowMap, param17);\\n    vec2 param48 = param43.rg * param46.br;\\n    vec2 param60 = param43.gb * param46.rg;\\n    vec2 param49 = 0.05 * param48;\\n    vec2 param61 = 0.09 * param60;\\n    vec2 param51 = param49 + vUv;\\n    vec2 param63 = param61 + vUv;\\n    vec4 param52 = texture2D(diffuse, param51);\\n    vec4 param64 = texture2D(diffuse, param63);\\n    vec2 param74 = (param43.gb + -.5) * .02;\\n    vec2 param39 = fun2(vec2(2.5,3.), vec2(-.5,0.));\\n    vec2 param75 = param74 + param39;\\n    vec3 param55 = param52.rgb * param52.a;\\n    vec3 param67 = param64.rgb * param64.a;\\n    vec4 param76 = texture2D(noise, param75);\\n    float param84 = 1. - vUv.x;\\n    vec3 param69 = mix(param55, param67, param46.b);\\n    float param70 = mix(param52.a, param64.a, param46.b);\\n    float param85 = smoothstep(.2, .8, param84);\\n    vec3 param71 = param69 / param70;\\n    float param86 = param76.a * param85;\\n    vec3 param72 = saturate(param71);\\n    float param88 = param86 * .6;\\n    vec3 param79 = mix(param72, param76.rgb, param76.a);\\n    float param89 = param70 + param88;\\n    vec4 param90 = vec4(param79, param89);\\n    gl_FragColor = param90;\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/rocks2_qin5.76fcea27.png\";","module.exports = __webpack_public_path__ + \"img/sky.bae2686a.png\";","module.exports = __webpack_public_path__ + \"img/planetRing2.f583cfda.png\";","module.exports = __webpack_public_path__ + \"img/indexStatic.7de81a29.jpg\";","module.exports = __webpack_public_path__ + \"img/rocks_b.0117389e.png\";","module.exports = __webpack_public_path__ + \"img/planet_guangzhu.c342a410.png\";","module.exports = \"varying vec2 vUv;\\nuniform float time;\\nuniform float speed;\\nuniform sampler2D diffuse;\\nfloat fun1(){\\n    float param3 = time * speed;\\n    return param3;\\n}\\n\\n\\nvoid main(){\\n    vec4 param7 = texture2D(diffuse, vUv);\\n    float param14 = param7.a * 3.283185307;\\n    float param4 = fun1();\\n    float param15 = param14 + param4;\\n    float param16 = sin(param15);\\n    float param12 = smoothstep(0., 0.5, param7.a);\\n    float param17 = (param16 + 1.) * .1;\\n    float param18 = param12 * param17;\\n    vec4 param19 = vec4(param7.rgb , param7.a);\\n    param19.rgb -= param18;\\n    gl_FragColor = param19;\\n}\\n\";","module.exports = \"varying vec2 vUv;\\nuniform sampler2D bg;\\nuniform vec2 resolution;\\nuniform sampler2D diffuse;\\nuniform float time;\\n\\nvec3 fun1(vec3 param1, vec3 param2){\\n    vec3 param10 = 1. - param1;\\n    vec3 param15 = 1. - param2;\\n    vec3 param16 = param10 * param15;\\n    vec3 param17 = 1. - param16;\\n    return param17;\\n}\\n\\n\\nvoid main(){\\n    vec2 param7 = gl_FragCoord.xy / resolution;\\n    vec4 param8 = texture2D(bg, param7);\\n    vec4 param13 = texture2D(diffuse, vUv);\\n    vec3 param18 = fun1(param13.rgb, param8.rgb);\\n    vec3 param20 = mix(param8.rgb, param18, smoothstep(.05,1.,param13.a*(.05*sin(time*10.)+.95)));\\n    vec4 param22 = vec4(param20, param8.a);\\n    gl_FragColor = param22;\\n}\\n\";","module.exports = \"varying vec2 vUv;\\nuniform float time;\\nuniform float speed;\\nuniform sampler2D diffuse;\\nuniform sampler2D flowMap;\\nvec2 fun1(vec2 param1){\\n    vec2 param4 = param1 - vec2(1.,0.);\\n    float param7 = atan(param4.x,param4.y);\\n    float param10 = length(param4);\\n    float param9 = param7 * 0.318309886183790;\\n    float param12 = param10 * .5;\\n    vec2 param13 = vec2(param9, param12);\\n    return param13;\\n}\\n\\nfloat fun2(){\\n    float param17 = time * speed;\\n    return param17;\\n}\\n\\n\\nvoid main(){\\n    vec2 param14 = fun1(vUv);\\n    float param18 = fun2();\\n    vec2 param22 = param14 + param18;\\n    vec4 param23 = texture2D(flowMap, param22);\\n    vec2 param25 = (param23.gb + -.5) * .002;\\n    vec2 param26 = vUv + param25;\\n    vec4 param27 = texture2D(diffuse, vUv);\\n    float param31 = step(.1, param27.g) * param23.r;\\n    vec3 param32 = param27.rgb -param31*.2;\\n    vec4 param33 = vec4(param32, param27.a);\\n    gl_FragColor = param33;\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/loadingLogo.c5ac2d27.png\";","module.exports = __webpack_public_path__ + \"img/smoke3.9a49ffd5.png\";","module.exports = __webpack_public_path__ + \"img/planet2.465a6ae2.png\";","module.exports = \"varying vec2 vUv;\\nuniform float time;\\nuniform sampler2D bg;\\nuniform sampler2D diffuse;\\nuniform sampler2D flowMap;\\nvec2 fun1(vec2 param1, vec2 param2){\\n    vec2 param7 = vUv * param1;\\n    vec2 param10 = time * param2;\\n    vec2 param11 = param7 + param10;\\n    return param11;\\n}\\n\\nvec2 fun2(vec2 param3, float param4){\\n    float param17 = sin(param4);\\n    float param16 = cos(param4);\\n    float param19 = param17 * -1.;\\n    mat2 param20 = mat2(param16, param19, param17, param16);\\n    vec2 param24 = param20 * param3;\\n    return param24;\\n}\\n\\n\\nvoid main(){\\n    float param15 = time * .005;\\n    vec2 param23 = vUv * vec2(25.);\\n    vec2 param12 = fun1(vec2(34.), vec2(.1,.07));\\n    vec4 param33 = texture2D(flowMap, param12);\\n    vec2 param25 = fun2(param23, param15);\\n    vec4 param36 = texture2D(flowMap, param25);\\n    vec2 param38 = param33.rg * param36.br;\\n    vec2 param50 = param33.gb * param36.rg;\\n    vec2 param39 = 0.012 * param38;\\n    vec2 param51 = 0.013 * param50;\\n    vec2 param41 = param39 + vUv;\\n    vec2 param53 = param51 + vUv;\\n    vec4 param42 = texture2D(diffuse, param41);\\n    vec4 param54 = texture2D(diffuse, param53);\\n    vec3 param45 = param42.rgb * param42.a;\\n    vec3 param57 = param54.rgb * param54.a;\\n    vec3 param59 = mix(param45, param57, param36.b);\\n    float param60 = mix(param42.a, param54.a, param36.b);\\n    vec4 param28 = texture2D(bg, vUv);\\n    vec3 param61 = param59 / param60;\\n    vec3 param62 = saturate(param61);\\n    vec3 param63 = mix(param28.rgb, param62, param60);\\n    vec4 param65 = vec4(param63, param28.a);\\n    gl_FragColor = param65;\\n}\\n\";","module.exports = \"varying float vAlpha;\\nuniform sampler2D diffuse;\\nvarying vec2 vUv;\\nvoid main(){\\n  gl_FragColor = texture2D(diffuse,vUv);\\n  gl_FragColor.a *= vAlpha;\\n}\\n\";","module.exports = __webpack_public_path__ + \"img/trainParticle.7fc354a0.png\";"],"sourceRoot":""}